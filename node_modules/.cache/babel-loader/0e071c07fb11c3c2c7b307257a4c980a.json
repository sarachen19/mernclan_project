{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cxr72\\\\Documents\\\\github\\\\meanStack dev\\\\project-client-the-mern-clan\\\\src\\\\components\\\\taskComponents\\\\AllGroups.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from \"react\";\nimport Group from \"./Group\";\nimport \"./allGroups.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AllGroups = props => {\n  _s();\n\n  // const [allGroups, setAllGroups] = useState([\n  // \t{\n  // \t\tgroupName: \"Week 1\",\n  // \t\tcards: [\n  // \t\t\t{\n  // \t\t\t\tvalue: \"Change master bedroom bedsheet\",\n  // \t\t\t\tchecklists: [\n  // \t\t\t\t\t{\n  // \t\t\t\t\t\tkey: 0,\n  // \t\t\t\t\t\tchecklistName: \"Checklist\",\n  // \t\t\t\t\t\ttodo: [\n  // \t\t\t\t\t\t\t{\n  // \t\t\t\t\t\t\t\ttext: \"Change master bedroom bedsheet\",\n  // \t\t\t\t\t\t\t\tfinished: true,\n  // \t\t\t\t\t\t\t},\n  // \t\t\t\t\t\t\t{\n  // \t\t\t\t\t\t\t\ttext: \"Prepare next week's lunch\",\n  // \t\t\t\t\t\t\t\tfinished: true,\n  // \t\t\t\t\t\t\t},\n  // \t\t\t\t\t\t\t{\n  // \t\t\t\t\t\t\t\ttext: \"Buy grocery\",\n  // \t\t\t\t\t\t\t\tfinished: true,\n  // \t\t\t\t\t\t\t},\n  // \t\t\t\t\t\t\t{\n  // \t\t\t\t\t\t\t\ttext: \"Visit doctor\",\n  // \t\t\t\t\t\t\t\tfinished: true,\n  // \t\t\t\t\t\t\t},\n  // \t\t\t\t\t\t],\n  // \t\t\t\t\t},\n  // \t\t\t\t],\n  // \t\t\t\tlabels: [\"bg-success\"],\n  // \t\t\t\tdueDate: \"\",\n  // \t\t\t\tdescription: \"\",\n  // \t\t\t\tcomments: [],\n  // \t\t\t\tcover: \"cover_image_4\",\n  // \t\t\t\tattachment: \"\",\n  // \t\t\t\tgroupKey: 1,\n  // \t\t\t},\n  // \t\t],\n  // \t\tkey: 1,\n  // \t},\n  // ]);\n  const [groups, setGroups] = useState([]);\n  useEffect(() => {\n    var tempdata = [];\n    let token = localStorage.getItem(\"token\");\n    let config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-auth-token\": token\n      }\n    };\n    axios.get(\"http://localhost:5000/api/task/group\", config).then(response => {\n      //console.log(response.data);\n      let temp = response.data;\n      temp.map((group, index) => {\n        let g = {\n          groupName: group.groupName,\n          cards: group.cards,\n          user: group.user,\n          groupId: group._id\n        };\n        tempdata = [...tempdata, g];\n      });\n    });\n    setGroups(tempdata);\n  }, []);\n  const [newGroup, setNewGroup] = useState(\"\");\n  const [add, setAdd] = useState(false); // const onGroupAdd = (group) => {\n  // \tif (group !== null) {\n  // \t\t//let temp = allGroups;\n  // \t\t//temp = [...temp, group];\n  // \t\t//setAllGroups(temp);\n  // \t\tsetAdd(false);\n  // \t\tconsole.log(\"on add group\" + group.groupName);\n  // \t} else {\n  // \t\tsetAdd(false);\n  // \t}\n  // };\n\n  const onGroupAdd = async group => {\n    if (group != null) {\n      let token = localStorage.getItem(\"token\");\n      let config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-auth-token\": token\n        }\n      };\n      let data = {\n        groupName: group.groupName\n      };\n\n      try {\n        const response = await axios.post(\"http://localhost:5000/api/task/group\", data, config);\n        setAdd(false);\n      } catch (e) {\n        console.log(e.response.data.errors);\n      }\n    } else {\n      setAdd(false);\n    }\n  };\n\n  const onCardsChange = (group, newCard) => {\n    //todo\n    //\n    //\n    //\n    //\n    console.log(\"oncardschange function called in root\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex\",\n    style: {\n      height: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"flex-columnx order-1\",\n      children: !add && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-light btn-sm add-group-button\",\n        onClick: e => {\n          e.preventDefault();\n          setAdd(true);\n        },\n        children: \"+ Add another group\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 4\n    }, this), add && /*#__PURE__*/_jsxDEV(Group, {\n      add: add,\n      count: groups.length,\n      onGroupAdd: onGroupAdd\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 12\n    }, this), groups.map((group, index) => /*#__PURE__*/_jsxDEV(Group, {\n      style: {\n        height: \"100%\"\n      },\n      group: group,\n      add: false,\n      onCardsChange: onCardsChange\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 3\n  }, this);\n};\n\n_s(AllGroups, \"P9cB6gt5hKzlSVf4NsUNsCNNOYA=\");\n\n_c = AllGroups;\nexport default AllGroups;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllGroups\");","map":{"version":3,"sources":["C:/Users/cxr72/Documents/github/meanStack dev/project-client-the-mern-clan/src/components/taskComponents/AllGroups.js"],"names":["React","useState","useEffect","Group","axios","AllGroups","props","groups","setGroups","tempdata","token","localStorage","getItem","config","headers","get","then","response","temp","data","map","group","index","g","groupName","cards","user","groupId","_id","newGroup","setNewGroup","add","setAdd","onGroupAdd","post","e","console","log","errors","onCardsChange","newCard","height","preventDefault","length"],"mappings":"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","sourcesContent":["import { React, useState, useEffect } from \"react\";\r\nimport Group from \"./Group\";\r\nimport \"./allGroups.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from \"axios\";\r\n\r\nconst AllGroups = (props) => {\r\n\t// const [allGroups, setAllGroups] = useState([\r\n\t// \t{\r\n\t// \t\tgroupName: \"Week 1\",\r\n\t// \t\tcards: [\r\n\t// \t\t\t{\r\n\t// \t\t\t\tvalue: \"Change master bedroom bedsheet\",\r\n\t// \t\t\t\tchecklists: [\r\n\t// \t\t\t\t\t{\r\n\t// \t\t\t\t\t\tkey: 0,\r\n\t// \t\t\t\t\t\tchecklistName: \"Checklist\",\r\n\t// \t\t\t\t\t\ttodo: [\r\n\t// \t\t\t\t\t\t\t{\r\n\t// \t\t\t\t\t\t\t\ttext: \"Change master bedroom bedsheet\",\r\n\t// \t\t\t\t\t\t\t\tfinished: true,\r\n\t// \t\t\t\t\t\t\t},\r\n\t// \t\t\t\t\t\t\t{\r\n\t// \t\t\t\t\t\t\t\ttext: \"Prepare next week's lunch\",\r\n\t// \t\t\t\t\t\t\t\tfinished: true,\r\n\t// \t\t\t\t\t\t\t},\r\n\t// \t\t\t\t\t\t\t{\r\n\t// \t\t\t\t\t\t\t\ttext: \"Buy grocery\",\r\n\t// \t\t\t\t\t\t\t\tfinished: true,\r\n\t// \t\t\t\t\t\t\t},\r\n\t// \t\t\t\t\t\t\t{\r\n\t// \t\t\t\t\t\t\t\ttext: \"Visit doctor\",\r\n\t// \t\t\t\t\t\t\t\tfinished: true,\r\n\t// \t\t\t\t\t\t\t},\r\n\t// \t\t\t\t\t\t],\r\n\t// \t\t\t\t\t},\r\n\t// \t\t\t\t],\r\n\t// \t\t\t\tlabels: [\"bg-success\"],\r\n\t// \t\t\t\tdueDate: \"\",\r\n\t// \t\t\t\tdescription: \"\",\r\n\t// \t\t\t\tcomments: [],\r\n\t// \t\t\t\tcover: \"cover_image_4\",\r\n\t// \t\t\t\tattachment: \"\",\r\n\t// \t\t\t\tgroupKey: 1,\r\n\t// \t\t\t},\r\n\t// \t\t],\r\n\t// \t\tkey: 1,\r\n\t// \t},\r\n\t// ]);\r\n\r\n\tconst [groups, setGroups] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tvar tempdata = [];\r\n\t\tlet token = localStorage.getItem(\"token\");\r\n\t\tlet config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\"x-auth-token\": token,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\taxios\r\n\t\t\t.get(\"http://localhost:5000/api/task/group\", config)\r\n\t\t\t.then((response) => {\r\n\t\t\t\t//console.log(response.data);\r\n\t\t\t\tlet temp = response.data;\r\n\t\t\t\ttemp.map((group, index) => {\r\n\t\t\t\t\tlet g = {\r\n\t\t\t\t\t\tgroupName: group.groupName,\r\n\t\t\t\t\t\tcards: group.cards,\r\n\t\t\t\t\t\tuser: group.user,\r\n\t\t\t\t\t\tgroupId: group._id,\r\n\t\t\t\t\t};\r\n\t\t\t\t\ttempdata = [...tempdata, g];\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\tsetGroups(tempdata);\r\n\t}, []);\r\n\r\n\tconst [newGroup, setNewGroup] = useState(\"\");\r\n\tconst [add, setAdd] = useState(false);\r\n\t// const onGroupAdd = (group) => {\r\n\t// \tif (group !== null) {\r\n\t// \t\t//let temp = allGroups;\r\n\t// \t\t//temp = [...temp, group];\r\n\t// \t\t//setAllGroups(temp);\r\n\t// \t\tsetAdd(false);\r\n\t// \t\tconsole.log(\"on add group\" + group.groupName);\r\n\t// \t} else {\r\n\t// \t\tsetAdd(false);\r\n\t// \t}\r\n\t// };\r\n\r\n\tconst onGroupAdd = async (group) => {\r\n\t\tif (group != null) {\r\n\t\t\tlet token = localStorage.getItem(\"token\");\r\n\t\t\tlet config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\"x-auth-token\": token,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tlet data = {\r\n\t\t\t\tgroupName: group.groupName,\r\n\t\t\t};\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post(\r\n\t\t\t\t\t\"http://localhost:5000/api/task/group\",\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\tconfig\r\n\t\t\t\t);\r\n\t\t\t\tsetAdd(false);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e.response.data.errors);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetAdd(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onCardsChange = (group, newCard) => {\r\n\t\t//todo\r\n\t\t//\r\n\t\t//\r\n\t\t//\r\n\t\t//\r\n\t\tconsole.log(\"oncardschange function called in root\");\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"d-flex\" style={{ height: \"100%\" }}>\r\n\t\t\t<span className=\"flex-columnx order-1\">\r\n\t\t\t\t{!add && (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"btn btn-light btn-sm add-group-button\"\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tsetAdd(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t&#43; Add another group\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t</span>\r\n\t\t\t{add && <Group add={add} count={groups.length} onGroupAdd={onGroupAdd} />}\r\n\t\t\t{groups.map((group, index) => (\r\n\t\t\t\t<Group\r\n\t\t\t\t\tstyle={{ height: \"100%\" }}\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tgroup={group}\r\n\t\t\t\t\tadd={false}\r\n\t\t\t\t\tonCardsChange={onCardsChange}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AllGroups;\r\n"]},"metadata":{},"sourceType":"module"}