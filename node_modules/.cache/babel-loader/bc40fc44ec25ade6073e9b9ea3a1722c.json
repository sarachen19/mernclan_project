{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cxr72\\\\Documents\\\\github\\\\meanStack dev\\\\project-client-the-mern-clan\\\\src\\\\components\\\\taskComponents\\\\editCard.js\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport Overlay from \"react-bootstrap/Overlay\";\nimport Popover from \"react-bootstrap/Popover\";\nimport OutsideClickHandler from \"react-outside-click-handler\";\nimport autosize from \"autosize\";\nimport \"./allGroups.css\";\nimport Checklist from \"./checklist\";\nimport AddTodo from \"./addTodo\";\nimport Label from \"./label\";\nimport Cover from \"./cover\";\nimport { cover_image_1 } from \"./coverImages/cover_image_1\";\nimport { cover_image_2 } from \"./coverImages/cover_image_2\";\nimport { cover_image_3 } from \"./coverImages/cover_image_3\";\nimport { cover_image_4 } from \"./coverImages/cover_image_4\";\nimport { cover_image_5 } from \"./coverImages/cover_image_5\";\nimport { cover_image_6 } from \"./coverImages/cover_image_6\";\nimport { cover_image_7 } from \"./coverImages/cover_image_7\";\nimport { cover_image_8 } from \"./coverImages/cover_image_8\";\nimport { cover_image_9 } from \"./coverImages/cover_image_9\";\nimport { cover_image_10 } from \"./coverImages/cover_image_10\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditCard extends Component {\n  constructor(props) {\n    super(props);\n    this.coverStyle = {\n      margin: \"auto\",\n      height: \"10rem\",\n      width: \"100%\",\n      paddingTop: \"4rem\",\n      textAlign: \"center\",\n      borderRadius: \"10px\",\n      backgroundRepeat: \"no-repeat\",\n      backgroundPosition: \"center center\",\n      backgroundSize: \"cover\",\n      color: \"white\"\n    };\n    this.state = {\n      currentCard: this.props.card,\n      tempDescription: this.props.card.description,\n      newChecklist: \"\",\n      showModal: true,\n      editCardName: false,\n      editDescription: false,\n      addChecklist: false,\n      addLabel: false,\n      addCover: false\n    };\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.editDescription = this.editDescription.bind(this);\n    this.exitEditDescription = this.exitEditDescription.bind(this);\n    this.GetDescription = this.GetDescription.bind(this);\n    this.handleDescriptionChange = this.handleDescriptionChange.bind(this);\n    this.handleDescriptionSubmit = this.handleDescriptionSubmit.bind(this);\n    this.formref = /*#__PURE__*/React.createRef();\n    this.coverRef = /*#__PURE__*/React.createRef();\n    this.addChecklist = this.addChecklist.bind(this);\n    this.onAddChecklists = this.onAddChecklists.bind(this);\n    this.ShowAddChecklist = this.ShowAddChecklist.bind(this);\n    this.Checklists = this.Checklists.bind(this);\n    this.editTodoInput = /*#__PURE__*/React.createRef();\n    this.addLabel = this.addLabel.bind(this);\n    this.onAddLabels = this.onAddLabels.bind(this);\n    this.Labels = this.Labels.bind(this);\n    this.addCover = this.addCover.bind(this);\n    this.onAddCovers = this.onAddCovers.bind(this);\n    this.Covers = this.Covers.bind(this);\n    this.displayCover = this.displayCover.bind(this);\n    this.coverRef = /*#__PURE__*/React.createRef();\n  }\n  /*\r\n   *On close, update all values in newCard, remove the original card, then add newCard into cards property.\r\n   */\n\n\n  handleCloseModal() {\n    this.setState({\n      showModal: false\n    });\n    this.props.edit();\n    this.props.onCardsChange();\n  }\n  /*\r\n   --------------------Description handler--------------------\r\n   */\n\n\n  editDescription() {\n    this.setState({\n      editDescription: true\n    });\n  }\n\n  exitEditDescription() {\n    this.setState({\n      editDescription: false\n    });\n  }\n\n  handleDescriptionChange(e) {\n    this.setState({\n      tempDescription: e.target.value\n    });\n  }\n\n  handleDescriptionSubmit(e) {\n    e.preventDefault();\n    this.props.card.description = this.state.tempDescription;\n  }\n\n  GetDescription() {\n    return /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: this.handleDescriptionSubmit,\n      style: {\n        margin: \"0 20px 0 0\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n        ref: this.formref,\n        as: \"textarea\",\n        rows: \"1\",\n        value: this.state.tempDescription,\n        onClick: this.editDescription,\n        onChange: this.handleDescriptionChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n        onOutsideClick: this.exitEditDescription,\n        display: \"contents\",\n        children: this.state.editDescription && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-sm\",\n          type: \"submit\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 4\n    }, this);\n  }\n  /*\r\n   --------------------Checklist handler--------------------\r\n   */\n\n\n  checklistIcons(e, v) {\n    let temp = e.currentTarget.firstElementChild;\n\n    while (temp.nextElementSibling !== null) {\n      temp = temp.nextElementSibling;\n      temp.style.visibility = v;\n    }\n  }\n\n  onAddChecklists() {\n    this.setState({\n      addChecklist: false\n    }); //增加结束 恢复默认值 参数传入Checklist\n  }\n\n  addChecklist() {\n    this.setState({\n      addChecklist: true\n    }); //点击增加时\n  }\n\n  ShowAddChecklist() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        title: \"checklist\",\n        role: \"button\",\n        className: \"btn btn-light sidebar-links\",\n        onClick: this.addChecklist,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sidebar-txt\",\n          children: \"Checklist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n        show: this.state.addChecklist,\n        target: this.coverRef.current,\n        placement: \"right\",\n        container: this.coverRef.current,\n        containerPadding: 20,\n        children: /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n          onOutsideClick: () => {\n            this.setState({\n              addChecklist: false\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(Popover, {\n            id: \"popover-contained-checklist\",\n            children: /*#__PURE__*/_jsxDEV(Popover.Content, {\n              children: /*#__PURE__*/_jsxDEV(Checklist, {\n                addChecklist: true,\n                card: this.props.card,\n                onCardsChange: this.props.onCardsChange,\n                onAddChecklists: this.onAddChecklists,\n                refresh: this.props.refresh\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 4\n    }, this);\n  }\n  /*\r\n   --------------------Todo handler--------------------\r\n   */\n\n\n  toggleTodo(checklist, oneTodo, todoIndex) {\n    checklist.todo.forEach((value, index) => {\n      if (index === todoIndex) {\n        value.finished = !value.finished;\n      }\n    }); // this.props.onCardsChange();\n  }\n  /*\r\n   --------------------one card's checklist and todo render--------------------\r\n   */\n\n\n  Checklists() {\n    const checklists = this.props.card.checklists;\n    return checklists.map((checklist, index1) => {\n      //const ProgressBar = this.ProgessBar(checklist);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"div-u-gutter\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"main-title\",\n            children: checklist.checklistName\n          }, index1, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 7\n          }, this)\n        }, index1, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 6\n        }, this)\n      }, index1, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 5\n      }, this);\n    });\n  }\n\n  ProgessBar(checklist) {\n    if (checklist.todo.length === 0) {\n      return null;\n    } else {\n      let count = 0;\n      let total = 0;\n      checklist.todo.forEach(todo => {\n        if (todo.finished === true) {\n          count++;\n        }\n\n        total++;\n      });\n      const percentage = parseInt(count / total * 100);\n      const width = percentage + \"%\";\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress\",\n        style: {\n          height: \"10px\",\n          backgroundColor: \"#FEEFC1\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          style: {\n            width: width,\n            height: \"10px\",\n            backgroundColor: \"#f8ce4f\"\n          },\n          children: [percentage, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 5\n      }, this);\n    }\n  }\n  /*\r\n   --------------------Label handler--------------------\r\n   */\n\n\n  addLabel() {\n    this.setState({\n      addLabel: !this.state.addLabel\n    });\n  }\n\n  onAddLabels() {\n    this.setState({\n      addLabels: false\n    });\n    this.props.refresh();\n  }\n\n  Labels() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        title: \"labels\",\n        role: \"button\",\n        className: \"btn btn-light sidebar-links\",\n        onClick: this.addLabel,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sidebar-txt\",\n          children: \"Labels\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n        show: this.state.addLabel,\n        target: this.coverRef.current,\n        placement: \"right\",\n        arrowProps: \"none\",\n        container: this.coverRef.current,\n        containerPadding: 20,\n        children: /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n          onOutsideClick: () => {\n            this.setState({\n              addLabel: false\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(Popover, {\n            id: \"popover-contained-label\",\n            \"data-container\": \"body\",\n            children: /*#__PURE__*/_jsxDEV(Popover.Content, {\n              children: /*#__PURE__*/_jsxDEV(Label, {\n                addLabel: true,\n                card: this.props.card,\n                onCardsChange: this.props.onCardsChange,\n                onAddLabels: this.onAddLabels\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 4\n    }, this);\n  }\n  /*\r\n   --------------------cover handler--------------------\r\n   */\n\n\n  addCover() {\n    this.setState({\n      addCover: !this.state.addCover\n    });\n  }\n\n  onAddCovers(imageSrc) {\n    this.setState({\n      addCover: true\n    });\n    let config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    let data = {\n      cardId: this.props.card.cardId,\n      cover: imageSrc\n    };\n    axios.put(\"http://localhost:5000/api/task/cover\", data, config).then(response => {\n      this.props.onAddLabels();\n    });\n  }\n\n  Covers() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        title: \"cover\",\n        role: \"button\",\n        className: \"btn btn-light sidebar-links\",\n        onClick: this.addCover,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sidebar-txt\",\n          children: \"Cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n        show: this.state.addCover,\n        target: this.coverRef.current,\n        placement: \"right\",\n        arrowProps: \"none\",\n        container: this.coverRef.current,\n        containerPadding: 20,\n        children: /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n          onOutsideClick: () => {\n            this.setState({\n              addCover: false\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(Popover, {\n            id: \"popover-contained-cover\",\n            \"data-container\": \"body\",\n            children: /*#__PURE__*/_jsxDEV(Popover.Content, {\n              children: /*#__PURE__*/_jsxDEV(Cover, {\n                addCover: true,\n                card: this.props.card,\n                onCardsChange: this.props.onCardsChange,\n                onAddCovers: this.onAddCovers\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 4\n    }, this);\n  }\n\n  displayCover(ref) {\n    if (ref === null || ref.current === null) return;\n    var target = ref.current;\n    const cover = this.props.card.cover;\n\n    if (cover !== \"\") {\n      target.style.height = \"10rem\";\n\n      switch (cover) {\n        case \"cover_image_1\":\n          target.style.backgroundImage = \"url(\" + cover_image_1 + \")\";\n          break;\n\n        case \"cover_image_2\":\n          target.style.backgroundImage = \"url(\" + cover_image_2 + \")\";\n          break;\n\n        case \"cover_image_3\":\n          target.style.backgroundImage = \"url(\" + cover_image_3 + \")\";\n          break;\n\n        case \"cover_image_4\":\n          target.style.backgroundImage = \"url(\" + cover_image_4 + \")\";\n          break;\n\n        case \"cover_image_5\":\n          target.style.backgroundImage = \"url(\" + cover_image_5 + \")\";\n          break;\n\n        case \"cover_image_6\":\n          target.style.backgroundImage = \"url(\" + cover_image_6 + \")\";\n          break;\n\n        case \"cover_image_7\":\n          target.style.backgroundImage = \"url(\" + cover_image_7 + \")\";\n          break;\n\n        case \"cover_image_8\":\n          target.style.backgroundImage = \"url(\" + cover_image_8 + \")\";\n          break;\n\n        case \"cover_image_9\":\n          target.style.backgroundImage = \"url(\" + cover_image_9 + \")\";\n          break;\n\n        case \"cover_image_10\":\n          target.style.backgroundImage = \"url(\" + cover_image_10 + \")\";\n          break;\n\n        default:\n          target.style.backgroundImage = \"\";\n          target.style.backgroundColor = cover;\n          target.style.height = \"3rem\";\n          break;\n      }\n    } else {\n      target.style.height = \"0\";\n      target.style.padding = \"0\";\n    }\n  }\n\n  componentDidUpdate() {\n    this.displayCover(this.coverRef);\n  }\n  /*\r\n   --------------------description autosize and show cover--------------------\r\n   */\n\n\n  componentDidMount() {\n    //autosize description\n    autosize(this.formref.current); //show cover\n\n    this.displayCover(this.coverRef);\n  }\n\n  render() {\n    const ShowAddChecklist = this.ShowAddChecklist;\n    const Labels = this.Labels;\n    const Covers = this.Covers;\n    const GetDescription = this.GetDescription;\n    const Checklists = this.Checklists;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        id: \"editCard-modal\",\n        show: this.state.showModal,\n        onHide: this.handleCloseModal,\n        scrollable: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          ref: this.coverRef,\n          className: \"editCard-modal-header-cover\",\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            style: {\n              width: \"100%\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body-header\",\n            children: [!this.state.editCardName && /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"main-title edit-card-name\",\n              onClick: this.editCardName,\n              children: this.props.card.value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 9\n            }, this), this.state.editCardName && /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n              onOutsideClick: () => {\n                this.setState({\n                  editCardName: false\n                });\n              },\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.onSubmitEditCardName,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  defaultValue: this.props.card.value,\n                  ref: this.editCardNameInputRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success btn-sm\",\n                  type: \"submit\",\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-card-group-name\",\n              children: [\"in group \", this.props.group.groupName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body-main\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div-u-gutter\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"label-and-duedate-div\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"label-and-duedate-txt\",\n                  children: \"labels\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(Label, {\n                  card: this.props.card,\n                  onCardsChange: this.props.onCardsChange,\n                  onAddLabels: this.onAddLabels\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div-u-gutter\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"main-title\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(GetDescription, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Checklists, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body-sidebar\",\n            children: [/*#__PURE__*/_jsxDEV(ShowAddChecklist, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Labels, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Covers, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default EditCard;","map":{"version":3,"sources":["C:/Users/cxr72/Documents/github/meanStack dev/project-client-the-mern-clan/src/components/taskComponents/editCard.js"],"names":["React","Component","ReactDOM","Modal","Form","Overlay","Popover","OutsideClickHandler","autosize","Checklist","AddTodo","Label","Cover","cover_image_1","cover_image_2","cover_image_3","cover_image_4","cover_image_5","cover_image_6","cover_image_7","cover_image_8","cover_image_9","cover_image_10","axios","EditCard","constructor","props","coverStyle","margin","height","width","paddingTop","textAlign","borderRadius","backgroundRepeat","backgroundPosition","backgroundSize","color","state","currentCard","card","tempDescription","description","newChecklist","showModal","editCardName","editDescription","addChecklist","addLabel","addCover","handleCloseModal","bind","exitEditDescription","GetDescription","handleDescriptionChange","handleDescriptionSubmit","formref","createRef","coverRef","onAddChecklists","ShowAddChecklist","Checklists","editTodoInput","onAddLabels","Labels","onAddCovers","Covers","displayCover","setState","edit","onCardsChange","e","target","value","preventDefault","checklistIcons","v","temp","currentTarget","firstElementChild","nextElementSibling","style","visibility","current","refresh","toggleTodo","checklist","oneTodo","todoIndex","todo","forEach","index","finished","checklists","map","index1","checklistName","ProgessBar","length","count","total","percentage","parseInt","backgroundColor","addLabels","imageSrc","config","headers","data","cardId","cover","put","then","response","ref","backgroundImage","padding","componentDidUpdate","componentDidMount","render","onSubmitEditCardName","editCardNameInputRef","group","groupName"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Overlay from \"react-bootstrap/Overlay\";\r\nimport Popover from \"react-bootstrap/Popover\";\r\nimport OutsideClickHandler from \"react-outside-click-handler\";\r\nimport autosize from \"autosize\";\r\nimport \"./allGroups.css\";\r\nimport Checklist from \"./checklist\";\r\nimport AddTodo from \"./addTodo\";\r\nimport Label from \"./label\";\r\nimport Cover from \"./cover\";\r\nimport { cover_image_1 } from \"./coverImages/cover_image_1\";\r\nimport { cover_image_2 } from \"./coverImages/cover_image_2\";\r\nimport { cover_image_3 } from \"./coverImages/cover_image_3\";\r\nimport { cover_image_4 } from \"./coverImages/cover_image_4\";\r\nimport { cover_image_5 } from \"./coverImages/cover_image_5\";\r\nimport { cover_image_6 } from \"./coverImages/cover_image_6\";\r\nimport { cover_image_7 } from \"./coverImages/cover_image_7\";\r\nimport { cover_image_8 } from \"./coverImages/cover_image_8\";\r\nimport { cover_image_9 } from \"./coverImages/cover_image_9\";\r\nimport { cover_image_10 } from \"./coverImages/cover_image_10\";\r\nimport axios from \"axios\";\r\n\r\nclass EditCard extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcurrentCard: this.props.card,\r\n\t\t\ttempDescription: this.props.card.description,\r\n\t\t\tnewChecklist: \"\",\r\n\t\t\tshowModal: true,\r\n\t\t\teditCardName: false,\r\n\t\t\teditDescription: false,\r\n\t\t\taddChecklist: false,\r\n\t\t\taddLabel: false,\r\n\t\t\taddCover: false,\r\n\t\t};\r\n\r\n\t\tthis.handleCloseModal = this.handleCloseModal.bind(this);\r\n\r\n\t\tthis.editDescription = this.editDescription.bind(this);\r\n\t\tthis.exitEditDescription = this.exitEditDescription.bind(this);\r\n\t\tthis.GetDescription = this.GetDescription.bind(this);\r\n\t\tthis.handleDescriptionChange = this.handleDescriptionChange.bind(this);\r\n\t\tthis.handleDescriptionSubmit = this.handleDescriptionSubmit.bind(this);\r\n\t\tthis.formref = React.createRef();\r\n\r\n\t\tthis.coverRef = React.createRef();\r\n\r\n\t\tthis.addChecklist = this.addChecklist.bind(this);\r\n\t\tthis.onAddChecklists = this.onAddChecklists.bind(this);\r\n\t\tthis.ShowAddChecklist = this.ShowAddChecklist.bind(this);\r\n\t\tthis.Checklists = this.Checklists.bind(this);\r\n\t\tthis.editTodoInput = React.createRef();\r\n\r\n\t\tthis.addLabel = this.addLabel.bind(this);\r\n\t\tthis.onAddLabels = this.onAddLabels.bind(this);\r\n\t\tthis.Labels = this.Labels.bind(this);\r\n\r\n\t\tthis.addCover = this.addCover.bind(this);\r\n\t\tthis.onAddCovers = this.onAddCovers.bind(this);\r\n\t\tthis.Covers = this.Covers.bind(this);\r\n\t\tthis.displayCover = this.displayCover.bind(this);\r\n\t\tthis.coverRef = React.createRef();\r\n\t}\r\n\r\n\t/*\r\n\t *On close, update all values in newCard, remove the original card, then add newCard into cards property.\r\n\t */\r\n\thandleCloseModal() {\r\n\t\tthis.setState({ showModal: false });\r\n\t\tthis.props.edit();\r\n\t\tthis.props.onCardsChange();\r\n\t}\r\n\t/*\r\n  --------------------Description handler--------------------\r\n  */\r\n\teditDescription() {\r\n\t\tthis.setState({ editDescription: true });\r\n\t}\r\n\texitEditDescription() {\r\n\t\tthis.setState({ editDescription: false });\r\n\t}\r\n\thandleDescriptionChange(e) {\r\n\t\tthis.setState({ tempDescription: e.target.value });\r\n\t}\r\n\thandleDescriptionSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tthis.props.card.description = this.state.tempDescription;\r\n\t}\r\n\tGetDescription() {\r\n\t\treturn (\r\n\t\t\t<Form\r\n\t\t\t\tonSubmit={this.handleDescriptionSubmit}\r\n\t\t\t\tstyle={{ margin: \"0 20px 0 0\" }}\r\n\t\t\t>\r\n\t\t\t\t<Form.Control\r\n\t\t\t\t\tref={this.formref}\r\n\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\trows=\"1\"\r\n\t\t\t\t\tvalue={this.state.tempDescription}\r\n\t\t\t\t\tonClick={this.editDescription}\r\n\t\t\t\t\tonChange={this.handleDescriptionChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<OutsideClickHandler\r\n\t\t\t\t\tonOutsideClick={this.exitEditDescription}\r\n\t\t\t\t\tdisplay={\"contents\"}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.state.editDescription && (\r\n\t\t\t\t\t\t<button className=\"btn btn-success btn-sm\" type=\"submit\">\r\n\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</OutsideClickHandler>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n  --------------------Checklist handler--------------------\r\n  */\r\n\tchecklistIcons(e, v) {\r\n\t\tlet temp = e.currentTarget.firstElementChild;\r\n\t\twhile (temp.nextElementSibling !== null) {\r\n\t\t\ttemp = temp.nextElementSibling;\r\n\t\t\ttemp.style.visibility = v;\r\n\t\t}\r\n\t}\r\n\tonAddChecklists() {\r\n\t\tthis.setState({ addChecklist: false }); //增加结束 恢复默认值 参数传入Checklist\r\n\t}\r\n\taddChecklist() {\r\n\t\tthis.setState({ addChecklist: true }); //点击增加时\r\n\t}\r\n\tShowAddChecklist() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\ttitle=\"checklist\"\r\n\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\tclassName=\"btn btn-light sidebar-links\"\r\n\t\t\t\t\tonClick={this.addChecklist}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"sidebar-txt\">Checklist</span>\r\n\t\t\t\t</a>\r\n\t\t\t\t<Overlay\r\n\t\t\t\t\tshow={this.state.addChecklist}\r\n\t\t\t\t\ttarget={this.coverRef.current}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tcontainer={this.coverRef.current}\r\n\t\t\t\t\tcontainerPadding={20}\r\n\t\t\t\t>\r\n\t\t\t\t\t<OutsideClickHandler\r\n\t\t\t\t\t\tonOutsideClick={() => {\r\n\t\t\t\t\t\t\tthis.setState({ addChecklist: false });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Popover id=\"popover-contained-checklist\">\r\n\t\t\t\t\t\t\t<Popover.Content>\r\n\t\t\t\t\t\t\t\t<Checklist\r\n\t\t\t\t\t\t\t\t\taddChecklist={true}\r\n\t\t\t\t\t\t\t\t\tcard={this.props.card}\r\n\t\t\t\t\t\t\t\t\tonCardsChange={this.props.onCardsChange}\r\n\t\t\t\t\t\t\t\t\tonAddChecklists={this.onAddChecklists}\r\n\t\t\t\t\t\t\t\t\trefresh={this.props.refresh}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Popover.Content>\r\n\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t</OutsideClickHandler>\r\n\t\t\t\t</Overlay>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t/*\r\n  --------------------Todo handler--------------------\r\n  */\r\n\ttoggleTodo(checklist, oneTodo, todoIndex) {\r\n\t\tchecklist.todo.forEach((value, index) => {\r\n\t\t\tif (index === todoIndex) {\r\n\t\t\t\tvalue.finished = !value.finished;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.props.onCardsChange();\r\n\t}\r\n\r\n\t/*\r\n  --------------------one card's checklist and todo render--------------------\r\n  */\r\n\r\n\tChecklists() {\r\n\t\tconst checklists = this.props.card.checklists;\r\n\t\treturn checklists.map((checklist, index1) => {\r\n\t\t\t//const ProgressBar = this.ProgessBar(checklist);\r\n\t\t\treturn (\r\n\t\t\t\t<div key={index1} className=\"div-u-gutter\">\r\n\t\t\t\t\t<div key={index1} className=\"d-flex\">\r\n\t\t\t\t\t\t<p key={index1} className=\"main-title\">\r\n\t\t\t\t\t\t\t{checklist.checklistName}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* {ProgressBar} */}\r\n\t\t\t\t\t{/* {checklist.todo.map((todo, index2) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index2}>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclassName=\"modal-todo-checkbox\"\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.toggleTodo(checklist, todo, index2)}\r\n\t\t\t\t\t\t\t\t\tdefaultChecked={todo.finished}\r\n\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\tclassName=\"modal-todo\"\r\n\t\t\t\t\t\t\t\t\tid={index1 + \"-\" + index2}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\ttextDecoration: todo.finished ? \"line-through\" : \"none\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{todo.text}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<AddTodo\r\n\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\tonCardsChange={this.props.onCardsChange}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\tProgessBar(checklist) {\r\n\t\tif (checklist.todo.length === 0) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\tlet count = 0;\r\n\t\t\tlet total = 0;\r\n\t\t\tchecklist.todo.forEach((todo) => {\r\n\t\t\t\tif (todo.finished === true) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t\ttotal++;\r\n\t\t\t});\r\n\t\t\tconst percentage = parseInt((count / total) * 100);\r\n\t\t\tconst width = percentage + \"%\";\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"progress\"\r\n\t\t\t\t\tstyle={{ height: \"10px\", backgroundColor: \"#FEEFC1\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"progress-bar\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\theight: \"10px\",\r\n\t\t\t\t\t\t\tbackgroundColor: \"#f8ce4f\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{percentage}%\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\t/*\r\n  --------------------Label handler--------------------\r\n  */\r\n\taddLabel() {\r\n\t\tthis.setState({ addLabel: !this.state.addLabel });\r\n\t}\r\n\tonAddLabels() {\r\n\t\tthis.setState({ addLabels: false });\r\n\t\tthis.props.refresh();\r\n\t}\r\n\tLabels() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\ttitle=\"labels\"\r\n\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\tclassName=\"btn btn-light sidebar-links\"\r\n\t\t\t\t\tonClick={this.addLabel}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"sidebar-txt\">Labels</span>\r\n\t\t\t\t</a>\r\n\r\n\t\t\t\t<Overlay\r\n\t\t\t\t\tshow={this.state.addLabel}\r\n\t\t\t\t\ttarget={this.coverRef.current}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tarrowProps=\"none\"\r\n\t\t\t\t\tcontainer={this.coverRef.current}\r\n\t\t\t\t\tcontainerPadding={20}\r\n\t\t\t\t>\r\n\t\t\t\t\t<OutsideClickHandler\r\n\t\t\t\t\t\tonOutsideClick={() => {\r\n\t\t\t\t\t\t\tthis.setState({ addLabel: false });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Popover id=\"popover-contained-label\" data-container=\"body\">\r\n\t\t\t\t\t\t\t<Popover.Content>\r\n\t\t\t\t\t\t\t\t<Label\r\n\t\t\t\t\t\t\t\t\taddLabel={true}\r\n\t\t\t\t\t\t\t\t\tcard={this.props.card}\r\n\t\t\t\t\t\t\t\t\tonCardsChange={this.props.onCardsChange}\r\n\t\t\t\t\t\t\t\t\tonAddLabels={this.onAddLabels}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Popover.Content>\r\n\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t</OutsideClickHandler>\r\n\t\t\t\t</Overlay>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t/*\r\n  --------------------cover handler--------------------\r\n  */\r\n\taddCover() {\r\n\t\tthis.setState({ addCover: !this.state.addCover });\r\n\t}\r\n\tonAddCovers(imageSrc) {\r\n\t\tthis.setState({ addCover: true });\r\n\t\tlet config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t};\r\n\t\tlet data = {\r\n\t\t\tcardId: this.props.card.cardId,\r\n\t\t\tcover: imageSrc,\r\n\t\t};\r\n\t\taxios\r\n\t\t\t.put(\"http://localhost:5000/api/task/cover\", data, config)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.props.onAddLabels();\r\n\t\t\t});\r\n\t}\r\n\tCovers() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\ttitle=\"cover\"\r\n\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\tclassName=\"btn btn-light sidebar-links\"\r\n\t\t\t\t\tonClick={this.addCover}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"sidebar-txt\">Cover</span>\r\n\t\t\t\t</a>\r\n\t\t\t\t<Overlay\r\n\t\t\t\t\tshow={this.state.addCover}\r\n\t\t\t\t\ttarget={this.coverRef.current}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tarrowProps=\"none\"\r\n\t\t\t\t\tcontainer={this.coverRef.current}\r\n\t\t\t\t\tcontainerPadding={20}\r\n\t\t\t\t>\r\n\t\t\t\t\t<OutsideClickHandler\r\n\t\t\t\t\t\tonOutsideClick={() => {\r\n\t\t\t\t\t\t\tthis.setState({ addCover: false });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Popover id=\"popover-contained-cover\" data-container=\"body\">\r\n\t\t\t\t\t\t\t<Popover.Content>\r\n\t\t\t\t\t\t\t\t<Cover\r\n\t\t\t\t\t\t\t\t\taddCover={true}\r\n\t\t\t\t\t\t\t\t\tcard={this.props.card}\r\n\t\t\t\t\t\t\t\t\tonCardsChange={this.props.onCardsChange}\r\n\t\t\t\t\t\t\t\t\tonAddCovers={this.onAddCovers}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Popover.Content>\r\n\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t</OutsideClickHandler>\r\n\t\t\t\t</Overlay>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\tcoverStyle = {\r\n\t\tmargin: \"auto\",\r\n\t\theight: \"10rem\",\r\n\t\twidth: \"100%\",\r\n\t\tpaddingTop: \"4rem\",\r\n\t\ttextAlign: \"center\",\r\n\t\tborderRadius: \"10px\",\r\n\t\tbackgroundRepeat: \"no-repeat\",\r\n\t\tbackgroundPosition: \"center center\",\r\n\t\tbackgroundSize: \"cover\",\r\n\t\tcolor: \"white\",\r\n\t};\r\n\tdisplayCover(ref) {\r\n\t\tif (ref === null || ref.current === null) return;\r\n\t\tvar target = ref.current;\r\n\t\tconst cover = this.props.card.cover;\r\n\t\tif (cover !== \"\") {\r\n\t\t\ttarget.style.height = \"10rem\";\r\n\t\t\tswitch (cover) {\r\n\t\t\t\tcase \"cover_image_1\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_1 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_2\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_2 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_3\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_3 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_4\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_4 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_5\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_5 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_6\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_6 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_7\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_7 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_8\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_8 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_9\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_9 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_10\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_10 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\ttarget.style.backgroundImage = \"\";\r\n\t\t\t\t\ttarget.style.backgroundColor = cover;\r\n\t\t\t\t\ttarget.style.height = \"3rem\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttarget.style.height = \"0\";\r\n\t\t\ttarget.style.padding = \"0\";\r\n\t\t}\r\n\t}\r\n\tcomponentDidUpdate() {\r\n\t\tthis.displayCover(this.coverRef);\r\n\t}\r\n\r\n\t/*\r\n  --------------------description autosize and show cover--------------------\r\n  */\r\n\tcomponentDidMount() {\r\n\t\t//autosize description\r\n\t\tautosize(this.formref.current);\r\n\t\t//show cover\r\n\t\tthis.displayCover(this.coverRef);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst ShowAddChecklist = this.ShowAddChecklist;\r\n\t\tconst Labels = this.Labels;\r\n\t\tconst Covers = this.Covers;\r\n\t\tconst GetDescription = this.GetDescription;\r\n\t\tconst Checklists = this.Checklists;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tid=\"editCard-modal\"\r\n\t\t\t\t\tshow={this.state.showModal}\r\n\t\t\t\t\tonHide={this.handleCloseModal}\r\n\t\t\t\t\tscrollable\r\n\t\t\t\t>\r\n\t\t\t\t\t<Modal.Header\r\n\t\t\t\t\t\tcloseButton\r\n\t\t\t\t\t\tref={this.coverRef}\r\n\t\t\t\t\t\tclassName=\"editCard-modal-header-cover\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Modal.Title style={{ width: \"100%\" }}>\r\n\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t<div className=\"modal-body-header\">\r\n\t\t\t\t\t\t\t{!this.state.editCardName && (\r\n\t\t\t\t\t\t\t\t<h5\r\n\t\t\t\t\t\t\t\t\tclassName=\"main-title edit-card-name\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.editCardName}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{this.props.card.value}\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{this.state.editCardName && (\r\n\t\t\t\t\t\t\t\t<OutsideClickHandler\r\n\t\t\t\t\t\t\t\t\tonOutsideClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.setState({ editCardName: false });\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<form onSubmit={this.onSubmitEditCardName}>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.props.card.value}\r\n\t\t\t\t\t\t\t\t\t\t\tref={this.editCardNameInputRef}\r\n\t\t\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-success btn-sm\" type=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t</OutsideClickHandler>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<p id=\"edit-card-group-name\">\r\n\t\t\t\t\t\t\t\tin group {this.props.group.groupName}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"modal-body-main\">\r\n\t\t\t\t\t\t\t<div className=\"div-u-gutter\">\r\n\t\t\t\t\t\t\t\t<div className=\"label-and-duedate-div\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label-and-duedate-txt\">labels</p>\r\n\t\t\t\t\t\t\t\t\t<Label\r\n\t\t\t\t\t\t\t\t\t\tcard={this.props.card}\r\n\t\t\t\t\t\t\t\t\t\tonCardsChange={this.props.onCardsChange}\r\n\t\t\t\t\t\t\t\t\t\tonAddLabels={this.onAddLabels}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"div-u-gutter\">\r\n\t\t\t\t\t\t\t\t<p className=\"main-title\">Description</p>\r\n\t\t\t\t\t\t\t\t<GetDescription />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Checklists />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"modal-body-sidebar\">\r\n\t\t\t\t\t\t\t<ShowAddChecklist />\r\n\t\t\t\t\t\t\t<Labels />\r\n\t\t\t\t\t\t\t<Covers />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer></Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EditCard;\r\n"]},"metadata":{},"sourceType":"module"}