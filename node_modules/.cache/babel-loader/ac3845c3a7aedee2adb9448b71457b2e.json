{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cxr72\\\\Documents\\\\github\\\\meanStack dev\\\\project-client-the-mern-clan\\\\src\\\\components\\\\resume_comp\\\\UserForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PersonalDetails from './PersonalDetails';\nimport Experience from './Experience';\nimport Project from './Project';\nimport Education from './Education';\nimport axios from 'axios';\nimport { Redirect } from \"react-router-dom\";\nimport apiService from '../apiService';\nimport { API_Types_Enum } from \"../DataConstants\"; //import Success from './Success';\n\nimport Extras from './Extras';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserForm = props => {\n  _s();\n\n  const {\n    formStatus\n  } = props;\n  const [isRedirect, setRedirect] = useState(false);\n  const [isAddResLoading, setIsAddResLoading] = useState(false);\n  const [addReserror, setaddResError] = useState();\n  const [resumeFields, setResumeFields] = useState({\n    step: 1,\n    name: '',\n    email: '',\n    phone: '',\n    linkedin: '',\n    github: '',\n    skills: '',\n    exp1_org: '',\n    exp1_pos: '',\n    exp1_desc: '',\n    exp1_dur: '',\n    exp2_org: '',\n    exp2_pos: '',\n    exp2_desc: '',\n    exp2_dur: '',\n    proj1_title: '',\n    proj1_link: '',\n    proj1_desc: '',\n    proj2_title: '',\n    proj2_link: '',\n    proj2_desc: '',\n    edu1_school: '',\n    edu1_year: '',\n    edu1_qualification: '',\n    edu1_desc: '',\n    edu2_school: '',\n    edu2_year: '',\n    edu2_qualification: '',\n    edu2_desc: '',\n    extra_1: '',\n    extra_2: '',\n    extra_3: '',\n    extra_4: '',\n    extra_5: '',\n    //user:\n    status: 0\n  });\n  useEffect(() => {\n    if (formStatus !== undefined) {\n      console.log(formStatus);\n      apiService(\"/api/resume/\" + formStatus, null, API_Types_Enum.get, response => setResumeFields({\n        step: 1,\n        name: response.data.name,\n        email: response.data.email,\n        phone: response.data.phone,\n        linkedin: response.data.linkedin,\n        github: response.data.github,\n        skills: response.data.skills,\n        exp1_org: response.data.experience[0].organization,\n        exp1_pos: response.data.experience[0].position,\n        exp1_desc: response.data.experience[0].description,\n        exp1_dur: response.data.experience[0].duration,\n        exp2_org: response.data.experience[1].organization,\n        exp2_pos: response.data.experience[1].position,\n        exp2_desc: response.data.experience[1].description,\n        exp2_dur: response.data.experience[1].duration,\n        proj1_title: response.data.project[0].title,\n        proj1_link: response.data.project[0].link,\n        proj1_desc: response.data.project[0].description,\n        proj2_title: response.data.project[1].title,\n        proj2_link: response.data.project[1].link,\n        proj2_desc: response.data.project[1].description,\n        edu1_school: response.data.education[0].school,\n        edu1_year: response.data.education[0].year,\n        edu1_qualification: response.data.education[0].qualification,\n        edu1_desc: response.data.education[0].description,\n        edu2_school: response.data.education[1].school,\n        edu2_year: response.data.education[1].year,\n        edu2_qualification: response.data.education[1].qualification,\n        edu2_desc: response.data.education[1].description,\n        extra_1: response.data.extra[0].title,\n        extra_2: response.data.extra[1].title,\n        extra_3: response.data.extra[2].title,\n        extra_4: response.data.extra[3].title,\n        extra_5: response.data.extra[4].title,\n        status: 0,\n        id: response.data._id\n      }), err => console.log(err));\n    }\n  }, []); // const [extraFields,setExtraFields]=useState([]);\n\n  const nextStep = () => {\n    const {\n      step\n    } = resumeFields;\n    setResumeFields({ ...resumeFields,\n      step: step + 1\n    });\n  }; // Go back to prev step\n\n\n  const prevStep = () => {\n    const {\n      step\n    } = resumeFields;\n    setResumeFields({ ...resumeFields,\n      step: step - 1\n    });\n  };\n\n  const submitted = () => {\n    // const { status } = resumeFields;\n    // setResumeFields({\n    //     ...resumeFields,\n    //     status: status + 1\n    // });\n    addResume(resumeFields);\n  };\n\n  const addResume = async resumedata => {\n    let data = resumedata;\n\n    try {\n      if (resumeFields.id) {\n        console.log(data);\n        setIsAddResLoading(true);\n        apiService(\"/api/resume\", data, API_Types_Enum.put_with_auth, response => {\n          console.log('resume updated');\n          setIsAddResLoading(false);\n          setaddResError(null);\n          setRedirect(true);\n        }, err => {\n          setIsAddResLoading(false);\n          let error_message = \"\";\n          err.response.data.errors.map(error => error_message += error.msg + \"\\n\");\n          setaddResError(error_message);\n        });\n      } else {\n        setIsAddResLoading(true);\n        apiService(\"/api/resume\", data, API_Types_Enum.post_with_auth, response => {\n          console.log('resume added');\n          setIsAddResLoading(false);\n          setaddResError(null);\n          setRedirect(true);\n        }, err => {\n          setIsAddResLoading(false);\n          let error_message = \"\";\n          err.response.data.errors.map(error => error_message += error.msg + \"\\n\");\n          setaddResError(error_message);\n        });\n      } //setRedirect(true)\n\n\n      console.log(resumedata);\n    } catch (e) {\n      console.log(e.response.data.errors);\n    }\n  };\n\n  if (isRedirect) {\n    console.log('Redirecting..');\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/resume\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 16\n    }, this);\n  }\n\n  const handleChange = evt => {\n    const value = evt.target.value;\n    setResumeFields({ ...resumeFields,\n      [evt.target.name]: value\n    });\n  };\n\n  const {\n    step\n  } = resumeFields;\n\n  switch (step) {\n    case 1:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App pt-5 mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container col-lg-10 mx-auto text-center\",\n          children: /*#__PURE__*/_jsxDEV(PersonalDetails, {\n            values: resumeFields,\n            nextStep: nextStep,\n            handleChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this);\n\n    case 2:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App pt-5 mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container col-lg-10 mx-auto text-center\",\n          children: /*#__PURE__*/_jsxDEV(Experience, {\n            values: resumeFields,\n            prevStep: prevStep,\n            nextStep: nextStep,\n            handleChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }, this);\n\n    case 3:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App pt-5 mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container col-lg-10 mx-auto text-center\",\n          children: /*#__PURE__*/_jsxDEV(Project, {\n            values: resumeFields,\n            prevStep: prevStep,\n            nextStep: nextStep,\n            handleChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this);\n\n    case 4:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App pt-5 mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container col-lg-10 mx-auto text-center\",\n          children: /*#__PURE__*/_jsxDEV(Education, {\n            values: resumeFields,\n            prevStep: prevStep,\n            nextStep: nextStep,\n            handleChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 17\n      }, this);\n\n    case 5:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App pt-5 mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container col-lg-10 mx-auto text-center\",\n          children: [isAddResLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-info regLabel\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 84\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 41\n          }, this), addReserror && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger regLabel\",\n            children: addReserror\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Extras, {\n            values: resumeFields,\n            prevStep: prevStep,\n            nextStep: nextStep,\n            submitted: submitted,\n            handleChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this);\n  }\n\n  ;\n};\n\n_s(UserForm, \"afAgdDngXahT4uoM5X5MxkmdW88=\");\n\n_c = UserForm;\nexport default UserForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserForm\");","map":{"version":3,"sources":["C:/Users/cxr72/Documents/github/meanStack dev/project-client-the-mern-clan/src/components/resume_comp/UserForm.js"],"names":["React","useState","useEffect","PersonalDetails","Experience","Project","Education","axios","Redirect","apiService","API_Types_Enum","Extras","UserForm","props","formStatus","isRedirect","setRedirect","isAddResLoading","setIsAddResLoading","addReserror","setaddResError","resumeFields","setResumeFields","step","name","email","phone","linkedin","github","skills","exp1_org","exp1_pos","exp1_desc","exp1_dur","exp2_org","exp2_pos","exp2_desc","exp2_dur","proj1_title","proj1_link","proj1_desc","proj2_title","proj2_link","proj2_desc","edu1_school","edu1_year","edu1_qualification","edu1_desc","edu2_school","edu2_year","edu2_qualification","edu2_desc","extra_1","extra_2","extra_3","extra_4","extra_5","status","undefined","console","log","get","response","data","experience","organization","position","description","duration","project","title","link","education","school","year","qualification","extra","id","_id","err","nextStep","prevStep","submitted","addResume","resumedata","put_with_auth","error_message","errors","map","error","msg","post_with_auth","e","handleChange","evt","value","target"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport PersonalDetails from './PersonalDetails';\r\nimport Experience from './Experience';\r\nimport Project from './Project';\r\nimport Education from './Education';\r\nimport axios from 'axios';\r\nimport {Redirect } from \"react-router-dom\";\r\nimport apiService from '../apiService';\r\nimport { API_Types_Enum } from \"../DataConstants\";\r\n//import Success from './Success';\r\nimport Extras from './Extras';\r\n\r\n\r\nconst UserForm = (props) => {\r\n    const { formStatus } = props;\r\n    const [isRedirect, setRedirect] = useState(false);\r\n    const [isAddResLoading, setIsAddResLoading] = useState(false);\r\n    const [addReserror, setaddResError] = useState();\r\n   \r\n\r\n    const [resumeFields,setResumeFields]=useState(\r\n        {\r\n            step: 1,\r\n            name: '',\r\n            email: '',\r\n            phone: '',\r\n            linkedin: '',\r\n            github: '',\r\n            skills: '',\r\n    \r\n            exp1_org: '',\r\n            exp1_pos: '',\r\n            exp1_desc: '',\r\n            exp1_dur: '',\r\n    \r\n            exp2_org: '',\r\n            exp2_pos: '',\r\n            exp2_desc: '',\r\n            exp2_dur: '',\r\n    \r\n            proj1_title: '',\r\n            proj1_link: '',\r\n            proj1_desc: '',\r\n    \r\n            proj2_title: '',\r\n            proj2_link: '',\r\n            proj2_desc: '',\r\n    \r\n            edu1_school: '',\r\n            edu1_year: '',\r\n            edu1_qualification: '',\r\n            edu1_desc: '',\r\n    \r\n            edu2_school: '',\r\n            edu2_year: '',\r\n            edu2_qualification: '',\r\n            edu2_desc: '',\r\n            \r\n            extra_1: '',\r\n            extra_2: '',\r\n            extra_3: '',\r\n            extra_4: '',\r\n            extra_5: '',\r\n\r\n            \r\n    //user:\r\n    \r\n            status: 0\r\n        }\r\n      );\r\n\r\n    useEffect(() => {\r\n        if(formStatus !== undefined)\r\n{\r\n    console.log(formStatus);\r\napiService(\"/api/resume/\"+formStatus,\r\n      null,\r\n      API_Types_Enum.get,\r\n      (response) => setResumeFields({\r\n        step: 1,\r\n    name: response.data.name,\r\n    email: response.data.email,\r\n    phone: response.data.phone,\r\n    linkedin: response.data.linkedin,\r\n    github: response.data.github,\r\n    skills: response.data.skills,\r\n    exp1_org: response.data.experience[0].organization,\r\n    exp1_pos: response.data.experience[0].position,\r\n    exp1_desc: response.data.experience[0].description,\r\n    exp1_dur: response.data.experience[0].duration,\r\n    exp2_org: response.data.experience[1].organization,\r\n    exp2_pos: response.data.experience[1].position,\r\n    exp2_desc: response.data.experience[1].description,\r\n    exp2_dur: response.data.experience[1].duration,\r\n    proj1_title: response.data.project[0].title,\r\n    proj1_link: response.data.project[0].link,\r\n    proj1_desc:response.data.project[0].description,\r\n    proj2_title: response.data.project[1].title,\r\n    proj2_link: response.data.project[1].link,\r\n    proj2_desc: response.data.project[1].description,\r\n    edu1_school: response.data.education[0].school,\r\n    edu1_year: response.data.education[0].year,\r\n    edu1_qualification: response.data.education[0].qualification,\r\n    edu1_desc: response.data.education[0].description,\r\n    edu2_school: response.data.education[1].school,\r\n    edu2_year: response.data.education[1].year,\r\n    edu2_qualification: response.data.education[1].qualification,\r\n    edu2_desc: response.data.education[1].description,\r\n    extra_1: response.data.extra[0].title,\r\n    extra_2: response.data.extra[1].title,\r\n    extra_3: response.data.extra[2].title,\r\n    extra_4: response.data.extra[3].title,\r\n    extra_5: response.data.extra[4].title,\r\n    status: 0,\r\n    id:response.data._id\r\n      }),\r\n      (err) => console.log(err));\r\n    }\r\n      }, []);\r\n\r\n      \r\n     // const [extraFields,setExtraFields]=useState([]);\r\n\r\n      const nextStep = () => {\r\n        const { step } = resumeFields;\r\n        setResumeFields({\r\n            ...resumeFields,\r\n            step: step + 1\r\n        });\r\n    };\r\n\r\n    // Go back to prev step\r\n    const prevStep = () => {\r\n        const { step } = resumeFields;\r\n        setResumeFields({\r\n            ...resumeFields,\r\n            step: step - 1\r\n        });\r\n    };\r\n\r\n    const submitted = () => {\r\n        // const { status } = resumeFields;\r\n        // setResumeFields({\r\n        //     ...resumeFields,\r\n        //     status: status + 1\r\n        // });\r\n            addResume(resumeFields);\r\n    };\r\n\r\n    \r\n    const addResume = async(resumedata) => {\r\n  \r\n\r\n    let data = resumedata;\r\n    try {\r\n        if(resumeFields.id)\r\n        {\r\n            console.log(data);\r\n            setIsAddResLoading(true);\r\n            apiService(\"/api/resume\",\r\n            data,\r\n                API_Types_Enum.put_with_auth,\r\n                (response) => {console.log('resume updated');\r\n                setIsAddResLoading(false);\r\n                setaddResError(null);\r\n                setRedirect(true)},\r\n                (err) => {\r\n                    setIsAddResLoading(false);\r\n     \r\n      let error_message=\"\";\r\n      err.response.data.errors.map((error)=> \r\n(\r\n    error_message += error.msg+\"\\n\"\r\n   \r\n )\r\n)\r\n                    setaddResError(error_message);\r\n                });\r\n            \r\n        }else{\r\n            setIsAddResLoading(true);\r\n            apiService(\"/api/resume\",\r\n            data,\r\n                API_Types_Enum.post_with_auth,\r\n                (response) => {console.log('resume added');\r\n                setIsAddResLoading(false);\r\n                setaddResError(null);\r\n                setRedirect(true)},\r\n                (err) => {setIsAddResLoading(false);\r\n     \r\n      let error_message=\"\";\r\n      err.response.data.errors.map((error)=> \r\n(\r\n    error_message += error.msg+\"\\n\"\r\n   \r\n )\r\n)\r\n                    setaddResError(error_message);});\r\n        }\r\n            \r\n              \r\n        //setRedirect(true)\r\n        console.log(resumedata);\r\n      \r\n    } catch (e) {\r\n      console.log(e.response.data.errors);\r\n    }\r\n    };\r\n\r\n    \r\n\r\n    if(isRedirect){\r\n        console.log('Redirecting..')\r\n        return <Redirect to='/resume' />\r\n      }\r\n\r\n    const handleChange = (evt) => {\r\n        const value = evt.target.value;\r\n        setResumeFields({\r\n          ...resumeFields,\r\n          [evt.target.name]: value\r\n        });\r\n    };\r\nconst { step } = resumeFields;\r\n    switch (step) {\r\n        case 1:\r\n            return (\r\n                <div className=\"App pt-5 mt-5\">\r\n                    <div className=\"container col-lg-10 mx-auto text-center\">\r\n\r\n                        <PersonalDetails\r\n                            values={resumeFields}\r\n                            nextStep={nextStep}\r\n                            handleChange={handleChange}\r\n                        />\r\n                    </div>\r\n                    <br />\r\n                </div>\r\n            );\r\n\r\n        case 2:\r\n\r\n            return (\r\n                <div className=\"App pt-5 mt-5\">\r\n                    <div className=\"container col-lg-10 mx-auto text-center\">\r\n\r\n                        <Experience\r\n                            values={resumeFields}\r\n                            prevStep={prevStep}\r\n                            nextStep={nextStep}\r\n                            handleChange={handleChange}\r\n                        />\r\n                    </div>\r\n                    <br />\r\n                </div>\r\n            );\r\n\r\n        case 3:\r\n\r\n            return (\r\n                <div className=\"App pt-5 mt-5\">\r\n                    <div className=\"container col-lg-10 mx-auto text-center\">\r\n\r\n                        <Project\r\n                            values={resumeFields}\r\n                            prevStep={prevStep}\r\n                            nextStep={nextStep}\r\n                            handleChange={handleChange}\r\n                        />\r\n                    </div>\r\n                    <br />\r\n                </div>\r\n            );\r\n\r\n        case 4:\r\n\r\n            return (\r\n                <div className=\"App pt-5 mt-5\">\r\n                    <div className=\"container col-lg-10 mx-auto text-center\">\r\n\r\n                        <Education\r\n                            values={resumeFields}\r\n                            prevStep={prevStep}\r\n                            nextStep={nextStep}\r\n                            handleChange={handleChange}\r\n                        />\r\n                    </div>\r\n                    <br />\r\n                </div>\r\n            );\r\n\r\n\r\n        case 5:\r\n\r\n            return (\r\n                <div className=\"App pt-5 mt-5\">\r\n                    <div className=\"container col-lg-10 mx-auto text-center\">\r\n                    {isAddResLoading && <div className=\"alert alert-info regLabel\"><strong>Loading...</strong></div>}\r\n        {addReserror && <div className=\"alert alert-danger regLabel\">{addReserror}</div>}\r\n                        <Extras\r\n                            values={resumeFields}\r\n                            prevStep={prevStep}\r\n                            nextStep={nextStep}\r\n                            submitted={submitted}\r\n                            handleChange={handleChange}\r\n                        />\r\n                    </div>\r\n                    <br />\r\n                </div>\r\n            );\r\n\r\n      \r\n    } ;\r\n}\r\n \r\nexport default UserForm;"]},"metadata":{},"sourceType":"module"}