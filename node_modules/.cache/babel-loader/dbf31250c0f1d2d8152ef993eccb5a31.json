{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cxr72\\\\Documents\\\\github\\\\meanStack dev\\\\project-client-the-mern-clan\\\\src\\\\components\\\\taskComponents\\\\editCard.js\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport Overlay from \"react-bootstrap/Overlay\";\nimport Popover from \"react-bootstrap/Popover\";\nimport OutsideClickHandler from \"react-outside-click-handler\";\nimport autosize from \"autosize\";\nimport \"./allGroups.css\";\nimport Checklist from \"./checklist\";\nimport AddTodo from \"./addTodo\";\nimport Label from \"./label\";\nimport Cover from \"./cover\";\nimport { cover_image_1 } from \"./coverImages/cover_image_1\";\nimport { cover_image_2 } from \"./coverImages/cover_image_2\";\nimport { cover_image_3 } from \"./coverImages/cover_image_3\";\nimport { cover_image_4 } from \"./coverImages/cover_image_4\";\nimport { cover_image_5 } from \"./coverImages/cover_image_5\";\nimport { cover_image_6 } from \"./coverImages/cover_image_6\";\nimport { cover_image_7 } from \"./coverImages/cover_image_7\";\nimport { cover_image_8 } from \"./coverImages/cover_image_8\";\nimport { cover_image_9 } from \"./coverImages/cover_image_9\";\nimport { cover_image_10 } from \"./coverImages/cover_image_10\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass EditCard extends Component {\n  constructor(props) {\n    super(props);\n    this.coverStyle = {\n      margin: \"auto\",\n      height: \"10rem\",\n      width: \"100%\",\n      paddingTop: \"4rem\",\n      textAlign: \"center\",\n      borderRadius: \"10px\",\n      backgroundRepeat: \"no-repeat\",\n      backgroundPosition: \"center center\",\n      backgroundSize: \"cover\",\n      color: \"white\"\n    };\n    this.state = {\n      currentCard: this.props.card,\n      tempDescription: this.props.card.description,\n      newChecklist: \"\",\n      showModal: true,\n      editCardName: false,\n      editDescription: false,\n      addChecklist: false,\n      addLabel: false,\n      addCover: false\n    };\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.editCardName = this.editCardName.bind(this);\n    this.onSubmitEditCardName = this.onSubmitEditCardName.bind(this);\n    this.editCardNameInputRef = /*#__PURE__*/React.createRef();\n    this.editDescription = this.editDescription.bind(this);\n    this.exitEditDescription = this.exitEditDescription.bind(this);\n    this.GetDescription = this.GetDescription.bind(this);\n    this.handleDescriptionChange = this.handleDescriptionChange.bind(this);\n    this.handleDescriptionSubmit = this.handleDescriptionSubmit.bind(this);\n    this.formref = /*#__PURE__*/React.createRef();\n    this.coverRef = /*#__PURE__*/React.createRef();\n    this.onSubmitEditChecklistName = this.onSubmitEditChecklistName.bind(this);\n    this.addChecklist = this.addChecklist.bind(this);\n    this.onAddChecklists = this.onAddChecklists.bind(this);\n    this.ShowAddChecklist = this.ShowAddChecklist.bind(this);\n    this.deleteChecklist = this.deleteChecklist.bind(this);\n    this.Checklists = this.Checklists.bind(this);\n    this.editTodoInput = /*#__PURE__*/React.createRef();\n    this.addLabel = this.addLabel.bind(this);\n    this.onAddLabels = this.onAddLabels.bind(this);\n    this.Labels = this.Labels.bind(this);\n    this.addCover = this.addCover.bind(this);\n    this.onAddCovers = this.onAddCovers.bind(this);\n    this.Covers = this.Covers.bind(this);\n    this.displayCover = this.displayCover.bind(this);\n    this.coverRef = /*#__PURE__*/React.createRef();\n  }\n  /*\r\n   *On close, update all values in newCard, remove the original card, then add newCard into cards property.\r\n   */\n\n\n  handleCloseModal() {\n    this.setState({\n      showModal: false\n    });\n    this.props.edit();\n    this.props.onCardsChange();\n  }\n  /*\r\n   --------------------edit card name handler--------------------\r\n   */\n\n\n  editCardName() {\n    this.setState({\n      editCardName: true\n    });\n  }\n\n  onSubmitEditCardName(e) {\n    e.preventDefault();\n    const tempName = this.editCardNameInputRef.current.value;\n    this.props.card.value = tempName;\n    this.setState({\n      editCardName: false\n    });\n  }\n  /*\r\n   --------------------Description handler--------------------\r\n   */\n\n\n  editDescription() {\n    this.setState({\n      editDescription: true\n    });\n  }\n\n  exitEditDescription() {\n    this.setState({\n      editDescription: false\n    });\n  }\n\n  handleDescriptionChange(e) {\n    this.setState({\n      tempDescription: e.target.value\n    });\n  }\n\n  handleDescriptionSubmit(e) {\n    e.preventDefault();\n    this.props.card.description = this.state.tempDescription;\n  }\n\n  GetDescription() {\n    return /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: this.handleDescriptionSubmit,\n      style: {\n        margin: \"0 20px 0 0\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n        ref: this.formref,\n        as: \"textarea\",\n        rows: \"1\",\n        value: this.state.tempDescription,\n        onClick: this.editDescription,\n        onChange: this.handleDescriptionChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n        onOutsideClick: this.exitEditDescription,\n        display: \"contents\",\n        children: this.state.editDescription && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-sm\",\n          type: \"submit\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 4\n    }, this);\n  }\n  /*\r\n   --------------------Checklist handler--------------------\r\n   */\n\n\n  checklistIcons(e, v) {\n    let temp = e.currentTarget.firstElementChild;\n\n    while (temp.nextElementSibling !== null) {\n      temp = temp.nextElementSibling;\n      temp.style.visibility = v;\n    }\n  }\n\n  editChecklist(e, checklist, index1) {\n    const temp = e.currentTarget.parentElement.parentElement;\n\n    if (temp !== null) {\n      ReactDOM.render( /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n        onOutsideClick: e => this.cancelEditChecklistName(e, temp, checklist, index1),\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"hide-edit-checklist-form\",\n          onSubmit: e => this.onSubmitEditChecklistName(e, temp, checklist),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            defaultValue: checklist.checklistName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success btn-sm\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 5\n      }, this), temp);\n    }\n  }\n\n  cancelEditChecklistName(e, domElement, checklist, index1) {\n    //ReactDOM.unmountComponentAtNode(domElement);\n    ReactDOM.render( /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"main-title\",\n        children: checklist.checklistName\n      }, index1, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"card-icons-hide\",\n        \"data-toggle\": \"tooltip\",\n        title: \"Edit checklist name\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          value: \"...\",\n          onClick: e => this.editChecklist(e, checklist)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"card-icons-hide\",\n        \"data-toggle\": \"tooltip\",\n        title: \"Delete checklist\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          value: \"...\",\n          onClick: e => this.deleteChecklist(e, checklist, this.props.card, domElement)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true), domElement);\n  }\n\n  onSubmitEditChecklistName(e, domElement, checklist) {\n    e.preventDefault();\n    let tempck = checklist;\n    const tempName = e.currentTarget.firstElementChild.value;\n    tempck.checklistName = tempName;\n    this.cancelEditChecklistName(e, domElement, tempck);\n    checklist = tempck;\n    this.setState(this.state); //this.props.onCardsChange();\n  }\n\n  deleteChecklist(e, checklist, card, domElement) {\n    e.preventDefault();\n\n    if (window.confirm(\"Checklist \" + checklist.checklistName + \" will be deleted.\")) {\n      this.props.card.checklists = this.props.card.checklists.filter(value => value !== checklist);\n      this.setState(this.state);\n    }\n  }\n\n  onAddChecklists() {\n    this.setState({\n      addChecklist: false\n    }); //增加结束 恢复默认值 参数传入Checklist\n  }\n\n  addChecklist() {\n    this.setState({\n      addChecklist: true\n    }); //点击增加时\n  }\n\n  ShowAddChecklist() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        title: \"checklist\",\n        role: \"button\",\n        className: \"btn btn-light sidebar-links\",\n        onClick: this.addChecklist,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sidebar-txt\",\n          children: \"Checklist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n        show: this.state.addChecklist,\n        target: this.coverRef.current,\n        placement: \"right\",\n        container: this.coverRef.current,\n        containerPadding: 20,\n        children: /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n          onOutsideClick: () => {\n            this.setState({\n              addChecklist: false\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(Popover, {\n            id: \"popover-contained-checklist\",\n            children: /*#__PURE__*/_jsxDEV(Popover.Content, {\n              children: /*#__PURE__*/_jsxDEV(Checklist, {\n                addChecklist: true,\n                card: this.props.card,\n                onCardsChange: this.props.onCardsChange,\n                onAddChecklists: this.onAddChecklists\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 4\n    }, this);\n  }\n  /*\r\n   --------------------Todo handler--------------------\r\n   */\n\n\n  toggleTodo(checklist, oneTodo, todoIndex) {\n    checklist.todo.forEach((value, index) => {\n      if (index === todoIndex) {\n        value.finished = !value.finished;\n      }\n    });\n    this.props.onCardsChange();\n  }\n\n  editTodo(checklist, todo, index1, index2) {\n    ReactDOM.render( /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n      onOutsideClick: () => {\n        ReactDOM.unmountComponentAtNode(document.getElementById(index1 + \"-\" + index2));\n        ReactDOM.render(todo.text, document.getElementById(index1 + \"-\" + index2));\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => this.editTodoSubmit(e, checklist, todo, index1, index2),\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          defaultValue: todo.text,\n          ref: this.editTodoInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-sm\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 4\n    }, this), document.getElementById(index1 + \"-\" + index2));\n  }\n\n  editTodoSubmit(e, checklist, todo, index1, index2) {\n    e.preventDefault();\n    const tempTodo = this.editTodoInput.current.value;\n    const targetId = index1 + \"-\" + index2;\n    checklist.todo.forEach((value, index) => {\n      const tempId = index1 + \"-\" + index;\n\n      if (tempId === targetId) {\n        checklist.todo[index].text = tempTodo;\n      }\n    });\n    ReactDOM.unmountComponentAtNode(document.getElementById(index1 + \"-\" + index2));\n    ReactDOM.render(tempTodo, document.getElementById(index1 + \"-\" + index2));\n    this.props.onCardsChange();\n  }\n  /*\r\n   --------------------one card's checklist and todo render--------------------\r\n   */\n\n\n  Checklists() {\n    const checklists = this.props.card.checklists;\n    return checklists.map((checklist, index1) => {\n      const ProgressBar = this.ProgessBar(checklist);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"div-u-gutter\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex\",\n          onMouseOver: e => this.checklistIcons(e, \"visible\"),\n          onMouseLeave: e => this.checklistIcons(e, \"hidden\"),\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"main-title\",\n            children: checklist.checklistName\n          }, index1, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-icons-hide\",\n            \"data-toggle\": \"tooltip\",\n            title: \"Edit checklist name\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"button\",\n              value: \"...\",\n              onClick: e => this.editChecklist(e, checklist, index1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-icons-hide\",\n            \"data-toggle\": \"tooltip\",\n            title: \"Delete checklist\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"button\",\n              value: \"...\",\n              onClick: e => this.deleteChecklist(e, checklist, this.props.card)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 7\n          }, this)]\n        }, index1, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 6\n        }, this), ProgressBar, checklist.todo.map((todo, index2) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"modal-todo-checkbox\",\n              type: \"checkbox\",\n              onClick: () => this.toggleTodo(checklist, todo, index2),\n              defaultChecked: todo.finished\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"modal-todo\",\n              onClick: () => this.editTodo(checklist, todo, index1, index2),\n              id: index1 + \"-\" + index2,\n              style: {\n                textDecoration: todo.finished ? \"line-through\" : \"none\"\n              },\n              children: todo.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 9\n            }, this)]\n          }, index2, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 8\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(AddTodo, {\n          checklist: checklist,\n          onCardsChange: this.props.onCardsChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 6\n        }, this)]\n      }, index1, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 5\n      }, this);\n    });\n  }\n\n  ProgessBar(checklist) {\n    if (checklist.todo.length === 0) {\n      return null;\n    } else {\n      let count = 0;\n      let total = 0;\n      checklist.todo.forEach(todo => {\n        if (todo.finished === true) {\n          count++;\n        }\n\n        total++;\n      });\n      const percentage = parseInt(count / total * 100);\n      const width = percentage + \"%\";\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress\",\n        style: {\n          height: \"10px\",\n          backgroundColor: \"#FEEFC1\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          style: {\n            width: width,\n            height: \"10px\",\n            backgroundColor: \"#f8ce4f\"\n          },\n          children: [percentage, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 5\n      }, this);\n    }\n  }\n  /*\r\n   --------------------Label handler--------------------\r\n   */\n\n\n  addLabel() {\n    this.setState({\n      addLabel: !this.state.addLabel\n    });\n  }\n\n  onAddLabels() {\n    this.setState({\n      addLabels: false\n    });\n  }\n\n  Labels() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        title: \"labels\",\n        role: \"button\",\n        className: \"btn btn-light sidebar-links\",\n        onClick: this.addLabel,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sidebar-txt\",\n          children: \"Labels\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n        show: this.state.addLabel,\n        target: this.coverRef.current,\n        placement: \"right\",\n        arrowProps: \"none\",\n        container: this.coverRef.current,\n        containerPadding: 20,\n        children: /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n          onOutsideClick: () => {\n            this.setState({\n              addLabel: false\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(Popover, {\n            id: \"popover-contained-label\",\n            \"data-container\": \"body\",\n            children: /*#__PURE__*/_jsxDEV(Popover.Content, {\n              children: /*#__PURE__*/_jsxDEV(Label, {\n                addLabel: true,\n                card: this.props.card,\n                onCardsChange: this.props.onCardsChange,\n                onAddLabels: this.onAddLabels\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 4\n    }, this);\n  }\n  /*\r\n   --------------------cover handler--------------------\r\n   */\n\n\n  addCover() {\n    this.setState({\n      addCover: !this.state.addCover\n    });\n  }\n\n  onAddCovers() {\n    this.setState({\n      addCover: true\n    });\n  }\n\n  Covers() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        title: \"cover\",\n        role: \"button\",\n        className: \"btn btn-light sidebar-links\",\n        onClick: this.addCover,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sidebar-txt\",\n          children: \"Cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Overlay, {\n        show: this.state.addCover,\n        target: this.coverRef.current,\n        placement: \"right\",\n        arrowProps: \"none\",\n        container: this.coverRef.current,\n        containerPadding: 20,\n        children: /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n          onOutsideClick: () => {\n            this.setState({\n              addCover: false\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(Popover, {\n            id: \"popover-contained-cover\",\n            \"data-container\": \"body\",\n            children: /*#__PURE__*/_jsxDEV(Popover.Content, {\n              children: /*#__PURE__*/_jsxDEV(Cover, {\n                addCover: true,\n                card: this.props.card,\n                onCardsChange: this.props.onCardsChange,\n                onAddCovers: this.onAddCovers\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 4\n    }, this);\n  }\n\n  displayCover(ref) {\n    if (ref === null || ref.current === null) return;\n    var target = ref.current;\n    const cover = this.props.card.cover;\n\n    if (cover !== \"\") {\n      target.style.height = \"10rem\";\n\n      switch (cover) {\n        case \"cover_image_1\":\n          target.style.backgroundImage = \"url(\" + cover_image_1 + \")\";\n          break;\n\n        case \"cover_image_2\":\n          target.style.backgroundImage = \"url(\" + cover_image_2 + \")\";\n          break;\n\n        case \"cover_image_3\":\n          target.style.backgroundImage = \"url(\" + cover_image_3 + \")\";\n          break;\n\n        case \"cover_image_4\":\n          target.style.backgroundImage = \"url(\" + cover_image_4 + \")\";\n          break;\n\n        case \"cover_image_5\":\n          target.style.backgroundImage = \"url(\" + cover_image_5 + \")\";\n          break;\n\n        case \"cover_image_6\":\n          target.style.backgroundImage = \"url(\" + cover_image_6 + \")\";\n          break;\n\n        case \"cover_image_7\":\n          target.style.backgroundImage = \"url(\" + cover_image_7 + \")\";\n          break;\n\n        case \"cover_image_8\":\n          target.style.backgroundImage = \"url(\" + cover_image_8 + \")\";\n          break;\n\n        case \"cover_image_9\":\n          target.style.backgroundImage = \"url(\" + cover_image_9 + \")\";\n          break;\n\n        case \"cover_image_10\":\n          target.style.backgroundImage = \"url(\" + cover_image_10 + \")\";\n          break;\n\n        default:\n          target.style.backgroundImage = \"\";\n          target.style.backgroundColor = cover;\n          target.style.height = \"3rem\";\n          break;\n      }\n    } else {\n      target.style.height = \"0\";\n      target.style.padding = \"0\";\n    }\n  }\n\n  componentDidUpdate() {\n    this.displayCover(this.coverRef);\n  }\n  /*\r\n   --------------------description autosize and show cover--------------------\r\n   */\n\n\n  componentDidMount() {\n    //autosize description\n    autosize(this.formref.current); //show cover\n\n    this.displayCover(this.coverRef);\n  }\n\n  render() {\n    const ShowAddChecklist = this.ShowAddChecklist;\n    const Labels = this.Labels;\n    const Covers = this.Covers;\n    const GetDescription = this.GetDescription;\n    const Checklists = this.Checklists;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        id: \"editCard-modal\",\n        show: this.state.showModal,\n        onHide: this.handleCloseModal,\n        scrollable: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          ref: this.coverRef,\n          className: \"editCard-modal-header-cover\",\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            style: {\n              width: \"100%\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body-header\",\n            children: [!this.state.editCardName && /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"main-title edit-card-name\",\n              onClick: this.editCardName,\n              children: this.props.card.value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 644,\n              columnNumber: 9\n            }, this), this.state.editCardName && /*#__PURE__*/_jsxDEV(OutsideClickHandler, {\n              onOutsideClick: () => {\n                this.setState({\n                  editCardName: false\n                });\n              },\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.onSubmitEditCardName,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  defaultValue: this.props.card.value,\n                  ref: this.editCardNameInputRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 658,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success btn-sm\",\n                  type: \"submit\",\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"edit-card-group-name\",\n              children: [\"in group \", this.props.group.groupName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body-main\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div-u-gutter\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"label-and-duedate-div\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"label-and-duedate-txt\",\n                  children: \"labels\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 677,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(Label, {\n                  card: this.props.card,\n                  onCardsChange: this.props.onCardsChange,\n                  onAddLabels: this.onAddLabels\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 676,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"label-and-duedate-div\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"label-and-duedate-txt\",\n                  children: \"due date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div-u-gutter\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"main-title\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 689,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(GetDescription, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Checklists, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body-sidebar\",\n            children: [/*#__PURE__*/_jsxDEV(ShowAddChecklist, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Labels, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Covers, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default EditCard;","map":{"version":3,"sources":["C:/Users/cxr72/Documents/github/meanStack dev/project-client-the-mern-clan/src/components/taskComponents/editCard.js"],"names":["React","Component","ReactDOM","Modal","Form","Overlay","Popover","OutsideClickHandler","autosize","Checklist","AddTodo","Label","Cover","cover_image_1","cover_image_2","cover_image_3","cover_image_4","cover_image_5","cover_image_6","cover_image_7","cover_image_8","cover_image_9","cover_image_10","EditCard","constructor","props","coverStyle","margin","height","width","paddingTop","textAlign","borderRadius","backgroundRepeat","backgroundPosition","backgroundSize","color","state","currentCard","card","tempDescription","description","newChecklist","showModal","editCardName","editDescription","addChecklist","addLabel","addCover","handleCloseModal","bind","onSubmitEditCardName","editCardNameInputRef","createRef","exitEditDescription","GetDescription","handleDescriptionChange","handleDescriptionSubmit","formref","coverRef","onSubmitEditChecklistName","onAddChecklists","ShowAddChecklist","deleteChecklist","Checklists","editTodoInput","onAddLabels","Labels","onAddCovers","Covers","displayCover","setState","edit","onCardsChange","e","preventDefault","tempName","current","value","target","checklistIcons","v","temp","currentTarget","firstElementChild","nextElementSibling","style","visibility","editChecklist","checklist","index1","parentElement","render","cancelEditChecklistName","checklistName","domElement","tempck","window","confirm","checklists","filter","toggleTodo","oneTodo","todoIndex","todo","forEach","index","finished","editTodo","index2","unmountComponentAtNode","document","getElementById","text","editTodoSubmit","tempTodo","targetId","tempId","map","ProgressBar","ProgessBar","textDecoration","length","count","total","percentage","parseInt","backgroundColor","addLabels","ref","cover","backgroundImage","padding","componentDidUpdate","componentDidMount","group","groupName"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,mBAAP,MAAgC,6BAAhC;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAO,iBAAP;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,cAAT,QAA+B,8BAA/B;;;;AAEA,MAAMC,QAAN,SAAuBtB,SAAvB,CAAiC;AAChCuB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AADkB,SAsgBnBC,UAtgBmB,GAsgBN;AACZC,MAAAA,MAAM,EAAE,MADI;AAEZC,MAAAA,MAAM,EAAE,OAFI;AAGZC,MAAAA,KAAK,EAAE,MAHK;AAIZC,MAAAA,UAAU,EAAE,MAJA;AAKZC,MAAAA,SAAS,EAAE,QALC;AAMZC,MAAAA,YAAY,EAAE,MANF;AAOZC,MAAAA,gBAAgB,EAAE,WAPN;AAQZC,MAAAA,kBAAkB,EAAE,eARR;AASZC,MAAAA,cAAc,EAAE,OATJ;AAUZC,MAAAA,KAAK,EAAE;AAVK,KAtgBM;AAElB,SAAKC,KAAL,GAAa;AACZC,MAAAA,WAAW,EAAE,KAAKb,KAAL,CAAWc,IADZ;AAEZC,MAAAA,eAAe,EAAE,KAAKf,KAAL,CAAWc,IAAX,CAAgBE,WAFrB;AAGZC,MAAAA,YAAY,EAAE,EAHF;AAIZC,MAAAA,SAAS,EAAE,IAJC;AAKZC,MAAAA,YAAY,EAAE,KALF;AAMZC,MAAAA,eAAe,EAAE,KANL;AAOZC,MAAAA,YAAY,EAAE,KAPF;AAQZC,MAAAA,QAAQ,EAAE,KARE;AASZC,MAAAA,QAAQ,EAAE;AATE,KAAb;AAYA,SAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAAxB;AAEA,SAAKN,YAAL,GAAoB,KAAKA,YAAL,CAAkBM,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,oBAAL,GAA4B,KAAKA,oBAAL,CAA0BD,IAA1B,CAA+B,IAA/B,CAA5B;AACA,SAAKE,oBAAL,gBAA4BpD,KAAK,CAACqD,SAAN,EAA5B;AAEA,SAAKR,eAAL,GAAuB,KAAKA,eAAL,CAAqBK,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKI,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBJ,IAAzB,CAA8B,IAA9B,CAA3B;AACA,SAAKK,cAAL,GAAsB,KAAKA,cAAL,CAAoBL,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKM,uBAAL,GAA+B,KAAKA,uBAAL,CAA6BN,IAA7B,CAAkC,IAAlC,CAA/B;AACA,SAAKO,uBAAL,GAA+B,KAAKA,uBAAL,CAA6BP,IAA7B,CAAkC,IAAlC,CAA/B;AACA,SAAKQ,OAAL,gBAAe1D,KAAK,CAACqD,SAAN,EAAf;AAEA,SAAKM,QAAL,gBAAgB3D,KAAK,CAACqD,SAAN,EAAhB;AAEA,SAAKO,yBAAL,GAAiC,KAAKA,yBAAL,CAA+BV,IAA/B,CAAoC,IAApC,CAAjC;AACA,SAAKJ,YAAL,GAAoB,KAAKA,YAAL,CAAkBI,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKW,eAAL,GAAuB,KAAKA,eAAL,CAAqBX,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKY,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBZ,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKa,eAAL,GAAuB,KAAKA,eAAL,CAAqBb,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKc,UAAL,GAAkB,KAAKA,UAAL,CAAgBd,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKe,aAAL,gBAAqBjE,KAAK,CAACqD,SAAN,EAArB;AAEA,SAAKN,QAAL,GAAgB,KAAKA,QAAL,CAAcG,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKgB,WAAL,GAAmB,KAAKA,WAAL,CAAiBhB,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKiB,MAAL,GAAc,KAAKA,MAAL,CAAYjB,IAAZ,CAAiB,IAAjB,CAAd;AAEA,SAAKF,QAAL,GAAgB,KAAKA,QAAL,CAAcE,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKkB,WAAL,GAAmB,KAAKA,WAAL,CAAiBlB,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKmB,MAAL,GAAc,KAAKA,MAAL,CAAYnB,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKoB,YAAL,GAAoB,KAAKA,YAAL,CAAkBpB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKS,QAAL,gBAAgB3D,KAAK,CAACqD,SAAN,EAAhB;AACA;AAED;AACD;AACA;;;AACCJ,EAAAA,gBAAgB,GAAG;AAClB,SAAKsB,QAAL,CAAc;AAAE5B,MAAAA,SAAS,EAAE;AAAb,KAAd;AACA,SAAKlB,KAAL,CAAW+C,IAAX;AACA,SAAK/C,KAAL,CAAWgD,aAAX;AACA;AACD;AACD;AACA;;;AACC7B,EAAAA,YAAY,GAAG;AACd,SAAK2B,QAAL,CAAc;AAAE3B,MAAAA,YAAY,EAAE;AAAhB,KAAd;AACA;;AACDO,EAAAA,oBAAoB,CAACuB,CAAD,EAAI;AACvBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,QAAQ,GAAG,KAAKxB,oBAAL,CAA0ByB,OAA1B,CAAkCC,KAAnD;AACA,SAAKrD,KAAL,CAAWc,IAAX,CAAgBuC,KAAhB,GAAwBF,QAAxB;AACA,SAAKL,QAAL,CAAc;AAAE3B,MAAAA,YAAY,EAAE;AAAhB,KAAd;AACA;AACD;AACD;AACA;;;AACCC,EAAAA,eAAe,GAAG;AACjB,SAAK0B,QAAL,CAAc;AAAE1B,MAAAA,eAAe,EAAE;AAAnB,KAAd;AACA;;AACDS,EAAAA,mBAAmB,GAAG;AACrB,SAAKiB,QAAL,CAAc;AAAE1B,MAAAA,eAAe,EAAE;AAAnB,KAAd;AACA;;AACDW,EAAAA,uBAAuB,CAACkB,CAAD,EAAI;AAC1B,SAAKH,QAAL,CAAc;AAAE/B,MAAAA,eAAe,EAAEkC,CAAC,CAACK,MAAF,CAASD;AAA5B,KAAd;AACA;;AACDrB,EAAAA,uBAAuB,CAACiB,CAAD,EAAI;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACA,SAAKlD,KAAL,CAAWc,IAAX,CAAgBE,WAAhB,GAA8B,KAAKJ,KAAL,CAAWG,eAAzC;AACA;;AACDe,EAAAA,cAAc,GAAG;AAChB,wBACC,QAAC,IAAD;AACC,MAAA,QAAQ,EAAE,KAAKE,uBADhB;AAEC,MAAA,KAAK,EAAE;AAAE9B,QAAAA,MAAM,EAAE;AAAV,OAFR;AAAA,8BAIC,QAAC,IAAD,CAAM,OAAN;AACC,QAAA,GAAG,EAAE,KAAK+B,OADX;AAEC,QAAA,EAAE,EAAC,UAFJ;AAGC,QAAA,IAAI,EAAC,GAHN;AAIC,QAAA,KAAK,EAAE,KAAKrB,KAAL,CAAWG,eAJnB;AAKC,QAAA,OAAO,EAAE,KAAKK,eALf;AAMC,QAAA,QAAQ,EAAE,KAAKW;AANhB;AAAA;AAAA;AAAA;AAAA,cAJD,eAYC,QAAC,mBAAD;AACC,QAAA,cAAc,EAAE,KAAKF,mBADtB;AAEC,QAAA,OAAO,EAAE,UAFV;AAAA,kBAIE,KAAKjB,KAAL,CAAWQ,eAAX,iBACA;AAAQ,UAAA,SAAS,EAAC,wBAAlB;AAA2C,UAAA,IAAI,EAAC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,cAZD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD;AAyBA;AAED;AACD;AACA;;;AACCmC,EAAAA,cAAc,CAACN,CAAD,EAAIO,CAAJ,EAAO;AACpB,QAAIC,IAAI,GAAGR,CAAC,CAACS,aAAF,CAAgBC,iBAA3B;;AACA,WAAOF,IAAI,CAACG,kBAAL,KAA4B,IAAnC,EAAyC;AACxCH,MAAAA,IAAI,GAAGA,IAAI,CAACG,kBAAZ;AACAH,MAAAA,IAAI,CAACI,KAAL,CAAWC,UAAX,GAAwBN,CAAxB;AACA;AACD;;AACDO,EAAAA,aAAa,CAACd,CAAD,EAAIe,SAAJ,EAAeC,MAAf,EAAuB;AACnC,UAAMR,IAAI,GAAGR,CAAC,CAACS,aAAF,CAAgBQ,aAAhB,CAA8BA,aAA3C;;AACA,QAAIT,IAAI,KAAK,IAAb,EAAmB;AAClBhF,MAAAA,QAAQ,CAAC0F,MAAT,eACC,QAAC,mBAAD;AACC,QAAA,cAAc,EAAGlB,CAAD,IACf,KAAKmB,uBAAL,CAA6BnB,CAA7B,EAAgCQ,IAAhC,EAAsCO,SAAtC,EAAiDC,MAAjD,CAFF;AAAA,+BAKC;AACC,UAAA,SAAS,EAAC,0BADX;AAEC,UAAA,QAAQ,EAAGhB,CAAD,IAAO,KAAKd,yBAAL,CAA+Bc,CAA/B,EAAkCQ,IAAlC,EAAwCO,SAAxC,CAFlB;AAAA,kCAIC;AACC,YAAA,IAAI,EAAC,MADN;AAEC,YAAA,SAAS,EAAC,cAFX;AAGC,YAAA,YAAY,EAAEA,SAAS,CAACK;AAHzB;AAAA;AAAA;AAAA;AAAA,kBAJD,eASC;AAAQ,YAAA,SAAS,EAAC,wBAAlB;AAA2C,YAAA,IAAI,EAAC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATD;AAAA;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA,cADD,EAoBCZ,IApBD;AAsBA;AACD;;AAEDW,EAAAA,uBAAuB,CAACnB,CAAD,EAAIqB,UAAJ,EAAgBN,SAAhB,EAA2BC,MAA3B,EAAmC;AACzD;AACAxF,IAAAA,QAAQ,CAAC0F,MAAT,eACC;AAAA,8BACC;AAAgB,QAAA,SAAS,EAAC,YAA1B;AAAA,kBACEH,SAAS,CAACK;AADZ,SAAQJ,MAAR;AAAA;AAAA;AAAA;AAAA,cADD,eAIC;AACC,QAAA,SAAS,EAAC,iBADX;AAEC,uBAAY,SAFb;AAGC,QAAA,KAAK,EAAC,qBAHP;AAAA,+BAKC;AACC,UAAA,IAAI,EAAC,QADN;AAEC,UAAA,KAAK,EAAC,KAFP;AAGC,UAAA,OAAO,EAAGhB,CAAD,IAAO,KAAKc,aAAL,CAAmBd,CAAnB,EAAsBe,SAAtB;AAHjB;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA,cAJD,eAeC;AACC,QAAA,SAAS,EAAC,iBADX;AAEC,uBAAY,SAFb;AAGC,QAAA,KAAK,EAAC,kBAHP;AAAA,+BAKC;AACC,UAAA,IAAI,EAAC,QADN;AAEC,UAAA,KAAK,EAAC,KAFP;AAGC,UAAA,OAAO,EAAGf,CAAD,IACR,KAAKX,eAAL,CAAqBW,CAArB,EAAwBe,SAAxB,EAAmC,KAAKhE,KAAL,CAAWc,IAA9C,EAAoDwD,UAApD;AAJF;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA,cAfD;AAAA,oBADD,EA8BCA,UA9BD;AAgCA;;AACDnC,EAAAA,yBAAyB,CAACc,CAAD,EAAIqB,UAAJ,EAAgBN,SAAhB,EAA2B;AACnDf,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIqB,MAAM,GAAGP,SAAb;AACA,UAAMb,QAAQ,GAAGF,CAAC,CAACS,aAAF,CAAgBC,iBAAhB,CAAkCN,KAAnD;AACAkB,IAAAA,MAAM,CAACF,aAAP,GAAuBlB,QAAvB;AACA,SAAKiB,uBAAL,CAA6BnB,CAA7B,EAAgCqB,UAAhC,EAA4CC,MAA5C;AACAP,IAAAA,SAAS,GAAGO,MAAZ;AACA,SAAKzB,QAAL,CAAc,KAAKlC,KAAnB,EAPmD,CAOxB;AAC3B;;AACD0B,EAAAA,eAAe,CAACW,CAAD,EAAIe,SAAJ,EAAelD,IAAf,EAAqBwD,UAArB,EAAiC;AAC/CrB,IAAAA,CAAC,CAACC,cAAF;;AACA,QACCsB,MAAM,CAACC,OAAP,CACC,eAAeT,SAAS,CAACK,aAAzB,GAAyC,mBAD1C,CADD,EAIE;AACD,WAAKrE,KAAL,CAAWc,IAAX,CAAgB4D,UAAhB,GAA6B,KAAK1E,KAAL,CAAWc,IAAX,CAAgB4D,UAAhB,CAA2BC,MAA3B,CAC3BtB,KAAD,IAAWA,KAAK,KAAKW,SADO,CAA7B;AAGA,WAAKlB,QAAL,CAAc,KAAKlC,KAAnB;AACA;AACD;;AACDwB,EAAAA,eAAe,GAAG;AACjB,SAAKU,QAAL,CAAc;AAAEzB,MAAAA,YAAY,EAAE;AAAhB,KAAd,EADiB,CACuB;AACxC;;AACDA,EAAAA,YAAY,GAAG;AACd,SAAKyB,QAAL,CAAc;AAAEzB,MAAAA,YAAY,EAAE;AAAhB,KAAd,EADc,CACyB;AACvC;;AACDgB,EAAAA,gBAAgB,GAAG;AAClB,wBACC;AAAA,8BACC;AACC,QAAA,IAAI,EAAC,GADN;AAEC,QAAA,KAAK,EAAC,WAFP;AAGC,QAAA,IAAI,EAAC,QAHN;AAIC,QAAA,SAAS,EAAC,6BAJX;AAKC,QAAA,OAAO,EAAE,KAAKhB,YALf;AAAA,+BAOC;AAAM,UAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA,cADD,eAUC,QAAC,OAAD;AACC,QAAA,IAAI,EAAE,KAAKT,KAAL,CAAWS,YADlB;AAEC,QAAA,MAAM,EAAE,KAAKa,QAAL,CAAckB,OAFvB;AAGC,QAAA,SAAS,EAAC,OAHX;AAIC,QAAA,SAAS,EAAE,KAAKlB,QAAL,CAAckB,OAJ1B;AAKC,QAAA,gBAAgB,EAAE,EALnB;AAAA,+BAOC,QAAC,mBAAD;AACC,UAAA,cAAc,EAAE,MAAM;AACrB,iBAAKN,QAAL,CAAc;AAAEzB,cAAAA,YAAY,EAAE;AAAhB,aAAd;AACA,WAHF;AAAA,iCAKC,QAAC,OAAD;AAAS,YAAA,EAAE,EAAC,6BAAZ;AAAA,mCACC,QAAC,OAAD,CAAS,OAAT;AAAA,qCACC,QAAC,SAAD;AACC,gBAAA,YAAY,EAAE,IADf;AAEC,gBAAA,IAAI,EAAE,KAAKrB,KAAL,CAAWc,IAFlB;AAGC,gBAAA,aAAa,EAAE,KAAKd,KAAL,CAAWgD,aAH3B;AAIC,gBAAA,eAAe,EAAE,KAAKZ;AAJvB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA,cAVD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD;AAqCA;AACD;AACD;AACA;;;AACCwC,EAAAA,UAAU,CAACZ,SAAD,EAAYa,OAAZ,EAAqBC,SAArB,EAAgC;AACzCd,IAAAA,SAAS,CAACe,IAAV,CAAeC,OAAf,CAAuB,CAAC3B,KAAD,EAAQ4B,KAAR,KAAkB;AACxC,UAAIA,KAAK,KAAKH,SAAd,EAAyB;AACxBzB,QAAAA,KAAK,CAAC6B,QAAN,GAAiB,CAAC7B,KAAK,CAAC6B,QAAxB;AACA;AACD,KAJD;AAKA,SAAKlF,KAAL,CAAWgD,aAAX;AACA;;AACDmC,EAAAA,QAAQ,CAACnB,SAAD,EAAYe,IAAZ,EAAkBd,MAAlB,EAA0BmB,MAA1B,EAAkC;AACzC3G,IAAAA,QAAQ,CAAC0F,MAAT,eACC,QAAC,mBAAD;AACC,MAAA,cAAc,EAAE,MAAM;AACrB1F,QAAAA,QAAQ,CAAC4G,sBAAT,CACCC,QAAQ,CAACC,cAAT,CAAwBtB,MAAM,GAAG,GAAT,GAAemB,MAAvC,CADD;AAGA3G,QAAAA,QAAQ,CAAC0F,MAAT,CACCY,IAAI,CAACS,IADN,EAECF,QAAQ,CAACC,cAAT,CAAwBtB,MAAM,GAAG,GAAT,GAAemB,MAAvC,CAFD;AAIA,OATF;AAAA,6BAWC;AACC,QAAA,QAAQ,EAAGnC,CAAD,IACT,KAAKwC,cAAL,CAAoBxC,CAApB,EAAuBe,SAAvB,EAAkCe,IAAlC,EAAwCd,MAAxC,EAAgDmB,MAAhD,CAFF;AAAA,gCAKC;AACC,UAAA,IAAI,EAAC,MADN;AAEC,UAAA,YAAY,EAAEL,IAAI,CAACS,IAFpB;AAGC,UAAA,GAAG,EAAE,KAAKhD;AAHX;AAAA;AAAA;AAAA;AAAA,gBALD,eAUC;AAAQ,UAAA,SAAS,EAAC,wBAAlB;AAA2C,UAAA,IAAI,EAAC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAXD;AAAA;AAAA;AAAA;AAAA,YADD,EA2BC8C,QAAQ,CAACC,cAAT,CAAwBtB,MAAM,GAAG,GAAT,GAAemB,MAAvC,CA3BD;AA6BA;;AACDK,EAAAA,cAAc,CAACxC,CAAD,EAAIe,SAAJ,EAAee,IAAf,EAAqBd,MAArB,EAA6BmB,MAA7B,EAAqC;AAClDnC,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMwC,QAAQ,GAAG,KAAKlD,aAAL,CAAmBY,OAAnB,CAA2BC,KAA5C;AACA,UAAMsC,QAAQ,GAAG1B,MAAM,GAAG,GAAT,GAAemB,MAAhC;AACApB,IAAAA,SAAS,CAACe,IAAV,CAAeC,OAAf,CAAuB,CAAC3B,KAAD,EAAQ4B,KAAR,KAAkB;AACxC,YAAMW,MAAM,GAAG3B,MAAM,GAAG,GAAT,GAAegB,KAA9B;;AACA,UAAIW,MAAM,KAAKD,QAAf,EAAyB;AACxB3B,QAAAA,SAAS,CAACe,IAAV,CAAeE,KAAf,EAAsBO,IAAtB,GAA6BE,QAA7B;AACA;AACD,KALD;AAMAjH,IAAAA,QAAQ,CAAC4G,sBAAT,CACCC,QAAQ,CAACC,cAAT,CAAwBtB,MAAM,GAAG,GAAT,GAAemB,MAAvC,CADD;AAGA3G,IAAAA,QAAQ,CAAC0F,MAAT,CAAgBuB,QAAhB,EAA0BJ,QAAQ,CAACC,cAAT,CAAwBtB,MAAM,GAAG,GAAT,GAAemB,MAAvC,CAA1B;AACA,SAAKpF,KAAL,CAAWgD,aAAX;AACA;AAED;AACD;AACA;;;AAECT,EAAAA,UAAU,GAAG;AACZ,UAAMmC,UAAU,GAAG,KAAK1E,KAAL,CAAWc,IAAX,CAAgB4D,UAAnC;AACA,WAAOA,UAAU,CAACmB,GAAX,CAAe,CAAC7B,SAAD,EAAYC,MAAZ,KAAuB;AAC5C,YAAM6B,WAAW,GAAG,KAAKC,UAAL,CAAgB/B,SAAhB,CAApB;AACA,0BACC;AAAkB,QAAA,SAAS,EAAC,cAA5B;AAAA,gCACC;AAEC,UAAA,SAAS,EAAC,QAFX;AAGC,UAAA,WAAW,EAAGf,CAAD,IAAO,KAAKM,cAAL,CAAoBN,CAApB,EAAuB,SAAvB,CAHrB;AAIC,UAAA,YAAY,EAAGA,CAAD,IAAO,KAAKM,cAAL,CAAoBN,CAApB,EAAuB,QAAvB,CAJtB;AAAA,kCAMC;AAAgB,YAAA,SAAS,EAAC,YAA1B;AAAA,sBACEe,SAAS,CAACK;AADZ,aAAQJ,MAAR;AAAA;AAAA;AAAA;AAAA,kBAND,eASC;AACC,YAAA,SAAS,EAAC,iBADX;AAEC,2BAAY,SAFb;AAGC,YAAA,KAAK,EAAC,qBAHP;AAAA,mCAKC;AACC,cAAA,IAAI,EAAC,QADN;AAEC,cAAA,KAAK,EAAC,KAFP;AAGC,cAAA,OAAO,EAAGhB,CAAD,IAAO,KAAKc,aAAL,CAAmBd,CAAnB,EAAsBe,SAAtB,EAAiCC,MAAjC;AAHjB;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA,kBATD,eAoBC;AACC,YAAA,SAAS,EAAC,iBADX;AAEC,2BAAY,SAFb;AAGC,YAAA,KAAK,EAAC,kBAHP;AAAA,mCAKC;AACC,cAAA,IAAI,EAAC,QADN;AAEC,cAAA,KAAK,EAAC,KAFP;AAGC,cAAA,OAAO,EAAGhB,CAAD,IACR,KAAKX,eAAL,CAAqBW,CAArB,EAAwBe,SAAxB,EAAmC,KAAKhE,KAAL,CAAWc,IAA9C;AAJF;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA,kBApBD;AAAA,WACMmD,MADN;AAAA;AAAA;AAAA;AAAA,gBADD,EAmCE6B,WAnCF,EAoCE9B,SAAS,CAACe,IAAV,CAAec,GAAf,CAAmB,CAACd,IAAD,EAAOK,MAAP,KAAkB;AACrC,8BACC;AAAA,oCACC;AACC,cAAA,SAAS,EAAC,qBADX;AAEC,cAAA,IAAI,EAAC,UAFN;AAGC,cAAA,OAAO,EAAE,MAAM,KAAKR,UAAL,CAAgBZ,SAAhB,EAA2Be,IAA3B,EAAiCK,MAAjC,CAHhB;AAIC,cAAA,cAAc,EAAEL,IAAI,CAACG;AAJtB;AAAA;AAAA;AAAA;AAAA,oBADD,eAOC;AACC,cAAA,SAAS,EAAC,YADX;AAEC,cAAA,OAAO,EAAE,MAAM,KAAKC,QAAL,CAAcnB,SAAd,EAAyBe,IAAzB,EAA+Bd,MAA/B,EAAuCmB,MAAvC,CAFhB;AAGC,cAAA,EAAE,EAAEnB,MAAM,GAAG,GAAT,GAAemB,MAHpB;AAIC,cAAA,KAAK,EAAE;AACNY,gBAAAA,cAAc,EAAEjB,IAAI,CAACG,QAAL,GAAgB,cAAhB,GAAiC;AAD3C,eAJR;AAAA,wBAQEH,IAAI,CAACS;AARP;AAAA;AAAA;AAAA;AAAA,oBAPD;AAAA,aAAUJ,MAAV;AAAA;AAAA;AAAA;AAAA,kBADD;AAoBA,SArBA,CApCF,eA0DC,QAAC,OAAD;AACC,UAAA,SAAS,EAAEpB,SADZ;AAEC,UAAA,aAAa,EAAE,KAAKhE,KAAL,CAAWgD;AAF3B;AAAA;AAAA;AAAA;AAAA,gBA1DD;AAAA,SAAUiB,MAAV;AAAA;AAAA;AAAA;AAAA,cADD;AAiEA,KAnEM,CAAP;AAoEA;;AACD8B,EAAAA,UAAU,CAAC/B,SAAD,EAAY;AACrB,QAAIA,SAAS,CAACe,IAAV,CAAekB,MAAf,KAA0B,CAA9B,EAAiC;AAChC,aAAO,IAAP;AACA,KAFD,MAEO;AACN,UAAIC,KAAK,GAAG,CAAZ;AACA,UAAIC,KAAK,GAAG,CAAZ;AACAnC,MAAAA,SAAS,CAACe,IAAV,CAAeC,OAAf,CAAwBD,IAAD,IAAU;AAChC,YAAIA,IAAI,CAACG,QAAL,KAAkB,IAAtB,EAA4B;AAC3BgB,UAAAA,KAAK;AACL;;AACDC,QAAAA,KAAK;AACL,OALD;AAMA,YAAMC,UAAU,GAAGC,QAAQ,CAAEH,KAAK,GAAGC,KAAT,GAAkB,GAAnB,CAA3B;AACA,YAAM/F,KAAK,GAAGgG,UAAU,GAAG,GAA3B;AACA,0BACC;AACC,QAAA,SAAS,EAAC,UADX;AAEC,QAAA,KAAK,EAAE;AAAEjG,UAAAA,MAAM,EAAE,MAAV;AAAkBmG,UAAAA,eAAe,EAAE;AAAnC,SAFR;AAAA,+BAIC;AACC,UAAA,SAAS,EAAC,cADX;AAEC,UAAA,KAAK,EAAE;AACNlG,YAAAA,KAAK,EAAEA,KADD;AAEND,YAAAA,MAAM,EAAE,MAFF;AAGNmG,YAAAA,eAAe,EAAE;AAHX,WAFR;AAAA,qBAQEF,UARF;AAAA;AAAA;AAAA;AAAA;AAAA;AAJD;AAAA;AAAA;AAAA;AAAA,cADD;AAiBA;AACD;AACD;AACD;AACA;;;AACC9E,EAAAA,QAAQ,GAAG;AACV,SAAKwB,QAAL,CAAc;AAAExB,MAAAA,QAAQ,EAAE,CAAC,KAAKV,KAAL,CAAWU;AAAxB,KAAd;AACA;;AACDmB,EAAAA,WAAW,GAAG;AACb,SAAKK,QAAL,CAAc;AAAEyD,MAAAA,SAAS,EAAE;AAAb,KAAd;AACA;;AACD7D,EAAAA,MAAM,GAAG;AACR,wBACC;AAAA,8BACC;AACC,QAAA,IAAI,EAAC,GADN;AAEC,QAAA,KAAK,EAAC,QAFP;AAGC,QAAA,IAAI,EAAC,QAHN;AAIC,QAAA,SAAS,EAAC,6BAJX;AAKC,QAAA,OAAO,EAAE,KAAKpB,QALf;AAAA,+BAOC;AAAM,UAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA,cADD,eAWC,QAAC,OAAD;AACC,QAAA,IAAI,EAAE,KAAKV,KAAL,CAAWU,QADlB;AAEC,QAAA,MAAM,EAAE,KAAKY,QAAL,CAAckB,OAFvB;AAGC,QAAA,SAAS,EAAC,OAHX;AAIC,QAAA,UAAU,EAAC,MAJZ;AAKC,QAAA,SAAS,EAAE,KAAKlB,QAAL,CAAckB,OAL1B;AAMC,QAAA,gBAAgB,EAAE,EANnB;AAAA,+BAQC,QAAC,mBAAD;AACC,UAAA,cAAc,EAAE,MAAM;AACrB,iBAAKN,QAAL,CAAc;AAAExB,cAAAA,QAAQ,EAAE;AAAZ,aAAd;AACA,WAHF;AAAA,iCAKC,QAAC,OAAD;AAAS,YAAA,EAAE,EAAC,yBAAZ;AAAsC,8BAAe,MAArD;AAAA,mCACC,QAAC,OAAD,CAAS,OAAT;AAAA,qCACC,QAAC,KAAD;AACC,gBAAA,QAAQ,EAAE,IADX;AAEC,gBAAA,IAAI,EAAE,KAAKtB,KAAL,CAAWc,IAFlB;AAGC,gBAAA,aAAa,EAAE,KAAKd,KAAL,CAAWgD,aAH3B;AAIC,gBAAA,WAAW,EAAE,KAAKP;AAJnB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA;AARD;AAAA;AAAA;AAAA;AAAA,cAXD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD;AAuCA;AACD;AACD;AACA;;;AACClB,EAAAA,QAAQ,GAAG;AACV,SAAKuB,QAAL,CAAc;AAAEvB,MAAAA,QAAQ,EAAE,CAAC,KAAKX,KAAL,CAAWW;AAAxB,KAAd;AACA;;AACDoB,EAAAA,WAAW,GAAG;AACb,SAAKG,QAAL,CAAc;AAAEvB,MAAAA,QAAQ,EAAE;AAAZ,KAAd;AACA;;AACDqB,EAAAA,MAAM,GAAG;AACR,wBACC;AAAA,8BACC;AACC,QAAA,IAAI,EAAC,GADN;AAEC,QAAA,KAAK,EAAC,OAFP;AAGC,QAAA,IAAI,EAAC,QAHN;AAIC,QAAA,SAAS,EAAC,6BAJX;AAKC,QAAA,OAAO,EAAE,KAAKrB,QALf;AAAA,+BAOC;AAAM,UAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA,cADD,eAUC,QAAC,OAAD;AACC,QAAA,IAAI,EAAE,KAAKX,KAAL,CAAWW,QADlB;AAEC,QAAA,MAAM,EAAE,KAAKW,QAAL,CAAckB,OAFvB;AAGC,QAAA,SAAS,EAAC,OAHX;AAIC,QAAA,UAAU,EAAC,MAJZ;AAKC,QAAA,SAAS,EAAE,KAAKlB,QAAL,CAAckB,OAL1B;AAMC,QAAA,gBAAgB,EAAE,EANnB;AAAA,+BAQC,QAAC,mBAAD;AACC,UAAA,cAAc,EAAE,MAAM;AACrB,iBAAKN,QAAL,CAAc;AAAEvB,cAAAA,QAAQ,EAAE;AAAZ,aAAd;AACA,WAHF;AAAA,iCAKC,QAAC,OAAD;AAAS,YAAA,EAAE,EAAC,yBAAZ;AAAsC,8BAAe,MAArD;AAAA,mCACC,QAAC,OAAD,CAAS,OAAT;AAAA,qCACC,QAAC,KAAD;AACC,gBAAA,QAAQ,EAAE,IADX;AAEC,gBAAA,IAAI,EAAE,KAAKvB,KAAL,CAAWc,IAFlB;AAGC,gBAAA,aAAa,EAAE,KAAKd,KAAL,CAAWgD,aAH3B;AAIC,gBAAA,WAAW,EAAE,KAAKL;AAJnB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA;AARD;AAAA;AAAA;AAAA;AAAA,cAVD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD;AAsCA;;AAaDE,EAAAA,YAAY,CAAC2D,GAAD,EAAM;AACjB,QAAIA,GAAG,KAAK,IAAR,IAAgBA,GAAG,CAACpD,OAAJ,KAAgB,IAApC,EAA0C;AAC1C,QAAIE,MAAM,GAAGkD,GAAG,CAACpD,OAAjB;AACA,UAAMqD,KAAK,GAAG,KAAKzG,KAAL,CAAWc,IAAX,CAAgB2F,KAA9B;;AACA,QAAIA,KAAK,KAAK,EAAd,EAAkB;AACjBnD,MAAAA,MAAM,CAACO,KAAP,CAAa1D,MAAb,GAAsB,OAAtB;;AACA,cAAQsG,KAAR;AACC,aAAK,eAAL;AACCnD,UAAAA,MAAM,CAACO,KAAP,CAAa6C,eAAb,GAA+B,SAAStH,aAAT,GAAyB,GAAxD;AACA;;AACD,aAAK,eAAL;AACCkE,UAAAA,MAAM,CAACO,KAAP,CAAa6C,eAAb,GAA+B,SAASrH,aAAT,GAAyB,GAAxD;AACA;;AACD,aAAK,eAAL;AACCiE,UAAAA,MAAM,CAACO,KAAP,CAAa6C,eAAb,GAA+B,SAASpH,aAAT,GAAyB,GAAxD;AACA;;AACD,aAAK,eAAL;AACCgE,UAAAA,MAAM,CAACO,KAAP,CAAa6C,eAAb,GAA+B,SAASnH,aAAT,GAAyB,GAAxD;AACA;;AACD,aAAK,eAAL;AACC+D,UAAAA,MAAM,CAACO,KAAP,CAAa6C,eAAb,GAA+B,SAASlH,aAAT,GAAyB,GAAxD;AACA;;AACD,aAAK,eAAL;AACC8D,UAAAA,MAAM,CAACO,KAAP,CAAa6C,eAAb,GAA+B,SAASjH,aAAT,GAAyB,GAAxD;AACA;;AACD,aAAK,eAAL;AACC6D,UAAAA,MAAM,CAACO,KAAP,CAAa6C,eAAb,GAA+B,SAAShH,aAAT,GAAyB,GAAxD;AACA;;AACD,aAAK,eAAL;AACC4D,UAAAA,MAAM,CAACO,KAAP,CAAa6C,eAAb,GAA+B,SAAS/G,aAAT,GAAyB,GAAxD;AACA;;AACD,aAAK,eAAL;AACC2D,UAAAA,MAAM,CAACO,KAAP,CAAa6C,eAAb,GAA+B,SAAS9G,aAAT,GAAyB,GAAxD;AACA;;AACD,aAAK,gBAAL;AACC0D,UAAAA,MAAM,CAACO,KAAP,CAAa6C,eAAb,GAA+B,SAAS7G,cAAT,GAA0B,GAAzD;AACA;;AACD;AACCyD,UAAAA,MAAM,CAACO,KAAP,CAAa6C,eAAb,GAA+B,EAA/B;AACApD,UAAAA,MAAM,CAACO,KAAP,CAAayC,eAAb,GAA+BG,KAA/B;AACAnD,UAAAA,MAAM,CAACO,KAAP,CAAa1D,MAAb,GAAsB,MAAtB;AACA;AAnCF;AAqCA,KAvCD,MAuCO;AACNmD,MAAAA,MAAM,CAACO,KAAP,CAAa1D,MAAb,GAAsB,GAAtB;AACAmD,MAAAA,MAAM,CAACO,KAAP,CAAa8C,OAAb,GAAuB,GAAvB;AACA;AACD;;AACDC,EAAAA,kBAAkB,GAAG;AACpB,SAAK/D,YAAL,CAAkB,KAAKX,QAAvB;AACA;AAED;AACD;AACA;;;AACC2E,EAAAA,iBAAiB,GAAG;AACnB;AACA9H,IAAAA,QAAQ,CAAC,KAAKkD,OAAL,CAAamB,OAAd,CAAR,CAFmB,CAGnB;;AACA,SAAKP,YAAL,CAAkB,KAAKX,QAAvB;AACA;;AAEDiC,EAAAA,MAAM,GAAG;AACR,UAAM9B,gBAAgB,GAAG,KAAKA,gBAA9B;AACA,UAAMK,MAAM,GAAG,KAAKA,MAApB;AACA,UAAME,MAAM,GAAG,KAAKA,MAApB;AACA,UAAMd,cAAc,GAAG,KAAKA,cAA5B;AACA,UAAMS,UAAU,GAAG,KAAKA,UAAxB;AACA,wBACC;AAAA,6BACC,QAAC,KAAD;AACC,QAAA,EAAE,EAAC,gBADJ;AAEC,QAAA,IAAI,EAAE,KAAK3B,KAAL,CAAWM,SAFlB;AAGC,QAAA,MAAM,EAAE,KAAKM,gBAHd;AAIC,QAAA,UAAU,MAJX;AAAA,gCAMC,QAAC,KAAD,CAAO,MAAP;AACC,UAAA,WAAW,MADZ;AAEC,UAAA,GAAG,EAAE,KAAKU,QAFX;AAGC,UAAA,SAAS,EAAC,6BAHX;AAAA,iCAKC,QAAC,KAAD,CAAO,KAAP;AAAa,YAAA,KAAK,EAAE;AAAE9B,cAAAA,KAAK,EAAE;AAAT,aAApB;AAAA,mCACC;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA,gBAND,eAeC,QAAC,KAAD,CAAO,IAAP;AAAA,kCACC;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,uBACE,CAAC,KAAKQ,KAAL,CAAWO,YAAZ,iBACA;AACC,cAAA,SAAS,EAAC,2BADX;AAEC,cAAA,OAAO,EAAE,KAAKA,YAFf;AAAA,wBAIE,KAAKnB,KAAL,CAAWc,IAAX,CAAgBuC;AAJlB;AAAA;AAAA;AAAA;AAAA,oBAFF,EASE,KAAKzC,KAAL,CAAWO,YAAX,iBACA,QAAC,mBAAD;AACC,cAAA,cAAc,EAAE,MAAM;AACrB,qBAAK2B,QAAL,CAAc;AAAE3B,kBAAAA,YAAY,EAAE;AAAhB,iBAAd;AACA,eAHF;AAAA,qCAKC;AAAM,gBAAA,QAAQ,EAAE,KAAKO,oBAArB;AAAA,wCACC;AACC,kBAAA,IAAI,EAAC,MADN;AAEC,kBAAA,SAAS,EAAC,cAFX;AAGC,kBAAA,YAAY,EAAE,KAAK1B,KAAL,CAAWc,IAAX,CAAgBuC,KAH/B;AAIC,kBAAA,GAAG,EAAE,KAAK1B;AAJX;AAAA;AAAA;AAAA;AAAA,wBADD,eAOC;AAAQ,kBAAA,SAAS,EAAC,wBAAlB;AAA2C,kBAAA,IAAI,EAAC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPD;AAAA;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA,oBAVF,eA4BC;AAAG,cAAA,EAAE,EAAC,sBAAN;AAAA,sCACW,KAAK3B,KAAL,CAAW8G,KAAX,CAAiBC,SAD5B;AAAA;AAAA;AAAA;AAAA;AAAA,oBA5BD;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAiCC;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAA,oCACC;AAAK,cAAA,SAAS,EAAC,cAAf;AAAA,sCACC;AAAK,gBAAA,SAAS,EAAC,uBAAf;AAAA,wCACC;AAAG,kBAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,eAEC,QAAC,KAAD;AACC,kBAAA,IAAI,EAAE,KAAK/G,KAAL,CAAWc,IADlB;AAEC,kBAAA,aAAa,EAAE,KAAKd,KAAL,CAAWgD,aAF3B;AAGC,kBAAA,WAAW,EAAE,KAAKP;AAHnB;AAAA;AAAA;AAAA;AAAA,wBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eASC;AAAK,gBAAA,SAAS,EAAC,uBAAf;AAAA,uCACC;AAAG,kBAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBATD;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAcC;AAAK,cAAA,SAAS,EAAC,cAAf;AAAA,sCACC;AAAG,gBAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,sBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,oBAdD,eAkBC,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,oBAlBD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjCD,eAqDC;AAAK,YAAA,SAAS,EAAC,oBAAf;AAAA,oCACC,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,oBAFD,eAGC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,oBAHD;AAAA;AAAA;AAAA;AAAA;AAAA,kBArDD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfD,eA0EC,QAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA,gBA1ED;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAgFA;;AAvqB+B;;AA0qBjC,eAAe3C,QAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Overlay from \"react-bootstrap/Overlay\";\r\nimport Popover from \"react-bootstrap/Popover\";\r\nimport OutsideClickHandler from \"react-outside-click-handler\";\r\nimport autosize from \"autosize\";\r\nimport \"./allGroups.css\";\r\nimport Checklist from \"./checklist\";\r\nimport AddTodo from \"./addTodo\";\r\nimport Label from \"./label\";\r\nimport Cover from \"./cover\";\r\nimport { cover_image_1 } from \"./coverImages/cover_image_1\";\r\nimport { cover_image_2 } from \"./coverImages/cover_image_2\";\r\nimport { cover_image_3 } from \"./coverImages/cover_image_3\";\r\nimport { cover_image_4 } from \"./coverImages/cover_image_4\";\r\nimport { cover_image_5 } from \"./coverImages/cover_image_5\";\r\nimport { cover_image_6 } from \"./coverImages/cover_image_6\";\r\nimport { cover_image_7 } from \"./coverImages/cover_image_7\";\r\nimport { cover_image_8 } from \"./coverImages/cover_image_8\";\r\nimport { cover_image_9 } from \"./coverImages/cover_image_9\";\r\nimport { cover_image_10 } from \"./coverImages/cover_image_10\";\r\n\r\nclass EditCard extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcurrentCard: this.props.card,\r\n\t\t\ttempDescription: this.props.card.description,\r\n\t\t\tnewChecklist: \"\",\r\n\t\t\tshowModal: true,\r\n\t\t\teditCardName: false,\r\n\t\t\teditDescription: false,\r\n\t\t\taddChecklist: false,\r\n\t\t\taddLabel: false,\r\n\t\t\taddCover: false,\r\n\t\t};\r\n\r\n\t\tthis.handleCloseModal = this.handleCloseModal.bind(this);\r\n\r\n\t\tthis.editCardName = this.editCardName.bind(this);\r\n\t\tthis.onSubmitEditCardName = this.onSubmitEditCardName.bind(this);\r\n\t\tthis.editCardNameInputRef = React.createRef();\r\n\r\n\t\tthis.editDescription = this.editDescription.bind(this);\r\n\t\tthis.exitEditDescription = this.exitEditDescription.bind(this);\r\n\t\tthis.GetDescription = this.GetDescription.bind(this);\r\n\t\tthis.handleDescriptionChange = this.handleDescriptionChange.bind(this);\r\n\t\tthis.handleDescriptionSubmit = this.handleDescriptionSubmit.bind(this);\r\n\t\tthis.formref = React.createRef();\r\n\r\n\t\tthis.coverRef = React.createRef();\r\n\r\n\t\tthis.onSubmitEditChecklistName = this.onSubmitEditChecklistName.bind(this);\r\n\t\tthis.addChecklist = this.addChecklist.bind(this);\r\n\t\tthis.onAddChecklists = this.onAddChecklists.bind(this);\r\n\t\tthis.ShowAddChecklist = this.ShowAddChecklist.bind(this);\r\n\t\tthis.deleteChecklist = this.deleteChecklist.bind(this);\r\n\t\tthis.Checklists = this.Checklists.bind(this);\r\n\t\tthis.editTodoInput = React.createRef();\r\n\r\n\t\tthis.addLabel = this.addLabel.bind(this);\r\n\t\tthis.onAddLabels = this.onAddLabels.bind(this);\r\n\t\tthis.Labels = this.Labels.bind(this);\r\n\r\n\t\tthis.addCover = this.addCover.bind(this);\r\n\t\tthis.onAddCovers = this.onAddCovers.bind(this);\r\n\t\tthis.Covers = this.Covers.bind(this);\r\n\t\tthis.displayCover = this.displayCover.bind(this);\r\n\t\tthis.coverRef = React.createRef();\r\n\t}\r\n\r\n\t/*\r\n\t *On close, update all values in newCard, remove the original card, then add newCard into cards property.\r\n\t */\r\n\thandleCloseModal() {\r\n\t\tthis.setState({ showModal: false });\r\n\t\tthis.props.edit();\r\n\t\tthis.props.onCardsChange();\r\n\t}\r\n\t/*\r\n  --------------------edit card name handler--------------------\r\n  */\r\n\teditCardName() {\r\n\t\tthis.setState({ editCardName: true });\r\n\t}\r\n\tonSubmitEditCardName(e) {\r\n\t\te.preventDefault();\r\n\t\tconst tempName = this.editCardNameInputRef.current.value;\r\n\t\tthis.props.card.value = tempName;\r\n\t\tthis.setState({ editCardName: false });\r\n\t}\r\n\t/*\r\n  --------------------Description handler--------------------\r\n  */\r\n\teditDescription() {\r\n\t\tthis.setState({ editDescription: true });\r\n\t}\r\n\texitEditDescription() {\r\n\t\tthis.setState({ editDescription: false });\r\n\t}\r\n\thandleDescriptionChange(e) {\r\n\t\tthis.setState({ tempDescription: e.target.value });\r\n\t}\r\n\thandleDescriptionSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tthis.props.card.description = this.state.tempDescription;\r\n\t}\r\n\tGetDescription() {\r\n\t\treturn (\r\n\t\t\t<Form\r\n\t\t\t\tonSubmit={this.handleDescriptionSubmit}\r\n\t\t\t\tstyle={{ margin: \"0 20px 0 0\" }}\r\n\t\t\t>\r\n\t\t\t\t<Form.Control\r\n\t\t\t\t\tref={this.formref}\r\n\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\trows=\"1\"\r\n\t\t\t\t\tvalue={this.state.tempDescription}\r\n\t\t\t\t\tonClick={this.editDescription}\r\n\t\t\t\t\tonChange={this.handleDescriptionChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<OutsideClickHandler\r\n\t\t\t\t\tonOutsideClick={this.exitEditDescription}\r\n\t\t\t\t\tdisplay={\"contents\"}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.state.editDescription && (\r\n\t\t\t\t\t\t<button className=\"btn btn-success btn-sm\" type=\"submit\">\r\n\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</OutsideClickHandler>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n  --------------------Checklist handler--------------------\r\n  */\r\n\tchecklistIcons(e, v) {\r\n\t\tlet temp = e.currentTarget.firstElementChild;\r\n\t\twhile (temp.nextElementSibling !== null) {\r\n\t\t\ttemp = temp.nextElementSibling;\r\n\t\t\ttemp.style.visibility = v;\r\n\t\t}\r\n\t}\r\n\teditChecklist(e, checklist, index1) {\r\n\t\tconst temp = e.currentTarget.parentElement.parentElement;\r\n\t\tif (temp !== null) {\r\n\t\t\tReactDOM.render(\r\n\t\t\t\t<OutsideClickHandler\r\n\t\t\t\t\tonOutsideClick={(e) =>\r\n\t\t\t\t\t\tthis.cancelEditChecklistName(e, temp, checklist, index1)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tclassName=\"hide-edit-checklist-form\"\r\n\t\t\t\t\t\tonSubmit={(e) => this.onSubmitEditChecklistName(e, temp, checklist)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tdefaultValue={checklist.checklistName}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t<button className=\"btn btn-success btn-sm\" type=\"submit\">\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</OutsideClickHandler>,\r\n\t\t\t\ttemp\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tcancelEditChecklistName(e, domElement, checklist, index1) {\r\n\t\t//ReactDOM.unmountComponentAtNode(domElement);\r\n\t\tReactDOM.render(\r\n\t\t\t<>\r\n\t\t\t\t<p key={index1} className=\"main-title\">\r\n\t\t\t\t\t{checklist.checklistName}\r\n\t\t\t\t</p>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName=\"card-icons-hide\"\r\n\t\t\t\t\tdata-toggle=\"tooltip\"\r\n\t\t\t\t\ttitle=\"Edit checklist name\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tvalue=\"...\"\r\n\t\t\t\t\t\tonClick={(e) => this.editChecklist(e, checklist)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName=\"card-icons-hide\"\r\n\t\t\t\t\tdata-toggle=\"tooltip\"\r\n\t\t\t\t\ttitle=\"Delete checklist\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tvalue=\"...\"\r\n\t\t\t\t\t\tonClick={(e) =>\r\n\t\t\t\t\t\t\tthis.deleteChecklist(e, checklist, this.props.card, domElement)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t</>,\r\n\t\t\tdomElement\r\n\t\t);\r\n\t}\r\n\tonSubmitEditChecklistName(e, domElement, checklist) {\r\n\t\te.preventDefault();\r\n\t\tlet tempck = checklist;\r\n\t\tconst tempName = e.currentTarget.firstElementChild.value;\r\n\t\ttempck.checklistName = tempName;\r\n\t\tthis.cancelEditChecklistName(e, domElement, tempck);\r\n\t\tchecklist = tempck;\r\n\t\tthis.setState(this.state); //this.props.onCardsChange();\r\n\t}\r\n\tdeleteChecklist(e, checklist, card, domElement) {\r\n\t\te.preventDefault();\r\n\t\tif (\r\n\t\t\twindow.confirm(\r\n\t\t\t\t\"Checklist \" + checklist.checklistName + \" will be deleted.\"\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tthis.props.card.checklists = this.props.card.checklists.filter(\r\n\t\t\t\t(value) => value !== checklist\r\n\t\t\t);\r\n\t\t\tthis.setState(this.state);\r\n\t\t}\r\n\t}\r\n\tonAddChecklists() {\r\n\t\tthis.setState({ addChecklist: false }); //增加结束 恢复默认值 参数传入Checklist\r\n\t}\r\n\taddChecklist() {\r\n\t\tthis.setState({ addChecklist: true }); //点击增加时\r\n\t}\r\n\tShowAddChecklist() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\ttitle=\"checklist\"\r\n\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\tclassName=\"btn btn-light sidebar-links\"\r\n\t\t\t\t\tonClick={this.addChecklist}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"sidebar-txt\">Checklist</span>\r\n\t\t\t\t</a>\r\n\t\t\t\t<Overlay\r\n\t\t\t\t\tshow={this.state.addChecklist}\r\n\t\t\t\t\ttarget={this.coverRef.current}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tcontainer={this.coverRef.current}\r\n\t\t\t\t\tcontainerPadding={20}\r\n\t\t\t\t>\r\n\t\t\t\t\t<OutsideClickHandler\r\n\t\t\t\t\t\tonOutsideClick={() => {\r\n\t\t\t\t\t\t\tthis.setState({ addChecklist: false });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Popover id=\"popover-contained-checklist\">\r\n\t\t\t\t\t\t\t<Popover.Content>\r\n\t\t\t\t\t\t\t\t<Checklist\r\n\t\t\t\t\t\t\t\t\taddChecklist={true}\r\n\t\t\t\t\t\t\t\t\tcard={this.props.card}\r\n\t\t\t\t\t\t\t\t\tonCardsChange={this.props.onCardsChange}\r\n\t\t\t\t\t\t\t\t\tonAddChecklists={this.onAddChecklists}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Popover.Content>\r\n\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t</OutsideClickHandler>\r\n\t\t\t\t</Overlay>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t/*\r\n  --------------------Todo handler--------------------\r\n  */\r\n\ttoggleTodo(checklist, oneTodo, todoIndex) {\r\n\t\tchecklist.todo.forEach((value, index) => {\r\n\t\t\tif (index === todoIndex) {\r\n\t\t\t\tvalue.finished = !value.finished;\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.props.onCardsChange();\r\n\t}\r\n\teditTodo(checklist, todo, index1, index2) {\r\n\t\tReactDOM.render(\r\n\t\t\t<OutsideClickHandler\r\n\t\t\t\tonOutsideClick={() => {\r\n\t\t\t\t\tReactDOM.unmountComponentAtNode(\r\n\t\t\t\t\t\tdocument.getElementById(index1 + \"-\" + index2)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tReactDOM.render(\r\n\t\t\t\t\t\ttodo.text,\r\n\t\t\t\t\t\tdocument.getElementById(index1 + \"-\" + index2)\r\n\t\t\t\t\t);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<form\r\n\t\t\t\t\tonSubmit={(e) =>\r\n\t\t\t\t\t\tthis.editTodoSubmit(e, checklist, todo, index1, index2)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tdefaultValue={todo.text}\r\n\t\t\t\t\t\tref={this.editTodoInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<button className=\"btn btn-success btn-sm\" type=\"submit\">\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</OutsideClickHandler>,\r\n\t\t\tdocument.getElementById(index1 + \"-\" + index2)\r\n\t\t);\r\n\t}\r\n\teditTodoSubmit(e, checklist, todo, index1, index2) {\r\n\t\te.preventDefault();\r\n\t\tconst tempTodo = this.editTodoInput.current.value;\r\n\t\tconst targetId = index1 + \"-\" + index2;\r\n\t\tchecklist.todo.forEach((value, index) => {\r\n\t\t\tconst tempId = index1 + \"-\" + index;\r\n\t\t\tif (tempId === targetId) {\r\n\t\t\t\tchecklist.todo[index].text = tempTodo;\r\n\t\t\t}\r\n\t\t});\r\n\t\tReactDOM.unmountComponentAtNode(\r\n\t\t\tdocument.getElementById(index1 + \"-\" + index2)\r\n\t\t);\r\n\t\tReactDOM.render(tempTodo, document.getElementById(index1 + \"-\" + index2));\r\n\t\tthis.props.onCardsChange();\r\n\t}\r\n\r\n\t/*\r\n  --------------------one card's checklist and todo render--------------------\r\n  */\r\n\r\n\tChecklists() {\r\n\t\tconst checklists = this.props.card.checklists;\r\n\t\treturn checklists.map((checklist, index1) => {\r\n\t\t\tconst ProgressBar = this.ProgessBar(checklist);\r\n\t\t\treturn (\r\n\t\t\t\t<div key={index1} className=\"div-u-gutter\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tkey={index1}\r\n\t\t\t\t\t\tclassName=\"d-flex\"\r\n\t\t\t\t\t\tonMouseOver={(e) => this.checklistIcons(e, \"visible\")}\r\n\t\t\t\t\t\tonMouseLeave={(e) => this.checklistIcons(e, \"hidden\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<p key={index1} className=\"main-title\">\r\n\t\t\t\t\t\t\t{checklist.checklistName}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"card-icons-hide\"\r\n\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\r\n\t\t\t\t\t\t\ttitle=\"Edit checklist name\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tvalue=\"...\"\r\n\t\t\t\t\t\t\t\tonClick={(e) => this.editChecklist(e, checklist, index1)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"card-icons-hide\"\r\n\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\r\n\t\t\t\t\t\t\ttitle=\"Delete checklist\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tvalue=\"...\"\r\n\t\t\t\t\t\t\t\tonClick={(e) =>\r\n\t\t\t\t\t\t\t\t\tthis.deleteChecklist(e, checklist, this.props.card)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{ProgressBar}\r\n\t\t\t\t\t{checklist.todo.map((todo, index2) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index2}>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclassName=\"modal-todo-checkbox\"\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.toggleTodo(checklist, todo, index2)}\r\n\t\t\t\t\t\t\t\t\tdefaultChecked={todo.finished}\r\n\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\tclassName=\"modal-todo\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.editTodo(checklist, todo, index1, index2)}\r\n\t\t\t\t\t\t\t\t\tid={index1 + \"-\" + index2}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\ttextDecoration: todo.finished ? \"line-through\" : \"none\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{todo.text}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<AddTodo\r\n\t\t\t\t\t\tchecklist={checklist}\r\n\t\t\t\t\t\tonCardsChange={this.props.onCardsChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\tProgessBar(checklist) {\r\n\t\tif (checklist.todo.length === 0) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\tlet count = 0;\r\n\t\t\tlet total = 0;\r\n\t\t\tchecklist.todo.forEach((todo) => {\r\n\t\t\t\tif (todo.finished === true) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t\ttotal++;\r\n\t\t\t});\r\n\t\t\tconst percentage = parseInt((count / total) * 100);\r\n\t\t\tconst width = percentage + \"%\";\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"progress\"\r\n\t\t\t\t\tstyle={{ height: \"10px\", backgroundColor: \"#FEEFC1\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"progress-bar\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\theight: \"10px\",\r\n\t\t\t\t\t\t\tbackgroundColor: \"#f8ce4f\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{percentage}%\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\t/*\r\n  --------------------Label handler--------------------\r\n  */\r\n\taddLabel() {\r\n\t\tthis.setState({ addLabel: !this.state.addLabel });\r\n\t}\r\n\tonAddLabels() {\r\n\t\tthis.setState({ addLabels: false });\r\n\t}\r\n\tLabels() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\ttitle=\"labels\"\r\n\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\tclassName=\"btn btn-light sidebar-links\"\r\n\t\t\t\t\tonClick={this.addLabel}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"sidebar-txt\">Labels</span>\r\n\t\t\t\t</a>\r\n\r\n\t\t\t\t<Overlay\r\n\t\t\t\t\tshow={this.state.addLabel}\r\n\t\t\t\t\ttarget={this.coverRef.current}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tarrowProps=\"none\"\r\n\t\t\t\t\tcontainer={this.coverRef.current}\r\n\t\t\t\t\tcontainerPadding={20}\r\n\t\t\t\t>\r\n\t\t\t\t\t<OutsideClickHandler\r\n\t\t\t\t\t\tonOutsideClick={() => {\r\n\t\t\t\t\t\t\tthis.setState({ addLabel: false });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Popover id=\"popover-contained-label\" data-container=\"body\">\r\n\t\t\t\t\t\t\t<Popover.Content>\r\n\t\t\t\t\t\t\t\t<Label\r\n\t\t\t\t\t\t\t\t\taddLabel={true}\r\n\t\t\t\t\t\t\t\t\tcard={this.props.card}\r\n\t\t\t\t\t\t\t\t\tonCardsChange={this.props.onCardsChange}\r\n\t\t\t\t\t\t\t\t\tonAddLabels={this.onAddLabels}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Popover.Content>\r\n\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t</OutsideClickHandler>\r\n\t\t\t\t</Overlay>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t/*\r\n  --------------------cover handler--------------------\r\n  */\r\n\taddCover() {\r\n\t\tthis.setState({ addCover: !this.state.addCover });\r\n\t}\r\n\tonAddCovers() {\r\n\t\tthis.setState({ addCover: true });\r\n\t}\r\n\tCovers() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\ttitle=\"cover\"\r\n\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\tclassName=\"btn btn-light sidebar-links\"\r\n\t\t\t\t\tonClick={this.addCover}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"sidebar-txt\">Cover</span>\r\n\t\t\t\t</a>\r\n\t\t\t\t<Overlay\r\n\t\t\t\t\tshow={this.state.addCover}\r\n\t\t\t\t\ttarget={this.coverRef.current}\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\tarrowProps=\"none\"\r\n\t\t\t\t\tcontainer={this.coverRef.current}\r\n\t\t\t\t\tcontainerPadding={20}\r\n\t\t\t\t>\r\n\t\t\t\t\t<OutsideClickHandler\r\n\t\t\t\t\t\tonOutsideClick={() => {\r\n\t\t\t\t\t\t\tthis.setState({ addCover: false });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Popover id=\"popover-contained-cover\" data-container=\"body\">\r\n\t\t\t\t\t\t\t<Popover.Content>\r\n\t\t\t\t\t\t\t\t<Cover\r\n\t\t\t\t\t\t\t\t\taddCover={true}\r\n\t\t\t\t\t\t\t\t\tcard={this.props.card}\r\n\t\t\t\t\t\t\t\t\tonCardsChange={this.props.onCardsChange}\r\n\t\t\t\t\t\t\t\t\tonAddCovers={this.onAddCovers}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Popover.Content>\r\n\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t</OutsideClickHandler>\r\n\t\t\t\t</Overlay>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\tcoverStyle = {\r\n\t\tmargin: \"auto\",\r\n\t\theight: \"10rem\",\r\n\t\twidth: \"100%\",\r\n\t\tpaddingTop: \"4rem\",\r\n\t\ttextAlign: \"center\",\r\n\t\tborderRadius: \"10px\",\r\n\t\tbackgroundRepeat: \"no-repeat\",\r\n\t\tbackgroundPosition: \"center center\",\r\n\t\tbackgroundSize: \"cover\",\r\n\t\tcolor: \"white\",\r\n\t};\r\n\tdisplayCover(ref) {\r\n\t\tif (ref === null || ref.current === null) return;\r\n\t\tvar target = ref.current;\r\n\t\tconst cover = this.props.card.cover;\r\n\t\tif (cover !== \"\") {\r\n\t\t\ttarget.style.height = \"10rem\";\r\n\t\t\tswitch (cover) {\r\n\t\t\t\tcase \"cover_image_1\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_1 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_2\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_2 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_3\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_3 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_4\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_4 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_5\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_5 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_6\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_6 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_7\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_7 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_8\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_8 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_9\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_9 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cover_image_10\":\r\n\t\t\t\t\ttarget.style.backgroundImage = \"url(\" + cover_image_10 + \")\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\ttarget.style.backgroundImage = \"\";\r\n\t\t\t\t\ttarget.style.backgroundColor = cover;\r\n\t\t\t\t\ttarget.style.height = \"3rem\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttarget.style.height = \"0\";\r\n\t\t\ttarget.style.padding = \"0\";\r\n\t\t}\r\n\t}\r\n\tcomponentDidUpdate() {\r\n\t\tthis.displayCover(this.coverRef);\r\n\t}\r\n\r\n\t/*\r\n  --------------------description autosize and show cover--------------------\r\n  */\r\n\tcomponentDidMount() {\r\n\t\t//autosize description\r\n\t\tautosize(this.formref.current);\r\n\t\t//show cover\r\n\t\tthis.displayCover(this.coverRef);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst ShowAddChecklist = this.ShowAddChecklist;\r\n\t\tconst Labels = this.Labels;\r\n\t\tconst Covers = this.Covers;\r\n\t\tconst GetDescription = this.GetDescription;\r\n\t\tconst Checklists = this.Checklists;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tid=\"editCard-modal\"\r\n\t\t\t\t\tshow={this.state.showModal}\r\n\t\t\t\t\tonHide={this.handleCloseModal}\r\n\t\t\t\t\tscrollable\r\n\t\t\t\t>\r\n\t\t\t\t\t<Modal.Header\r\n\t\t\t\t\t\tcloseButton\r\n\t\t\t\t\t\tref={this.coverRef}\r\n\t\t\t\t\t\tclassName=\"editCard-modal-header-cover\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Modal.Title style={{ width: \"100%\" }}>\r\n\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t<div className=\"modal-body-header\">\r\n\t\t\t\t\t\t\t{!this.state.editCardName && (\r\n\t\t\t\t\t\t\t\t<h5\r\n\t\t\t\t\t\t\t\t\tclassName=\"main-title edit-card-name\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.editCardName}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{this.props.card.value}\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{this.state.editCardName && (\r\n\t\t\t\t\t\t\t\t<OutsideClickHandler\r\n\t\t\t\t\t\t\t\t\tonOutsideClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.setState({ editCardName: false });\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<form onSubmit={this.onSubmitEditCardName}>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.props.card.value}\r\n\t\t\t\t\t\t\t\t\t\t\tref={this.editCardNameInputRef}\r\n\t\t\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-success btn-sm\" type=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t</OutsideClickHandler>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<p id=\"edit-card-group-name\">\r\n\t\t\t\t\t\t\t\tin group {this.props.group.groupName}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"modal-body-main\">\r\n\t\t\t\t\t\t\t<div className=\"div-u-gutter\">\r\n\t\t\t\t\t\t\t\t<div className=\"label-and-duedate-div\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label-and-duedate-txt\">labels</p>\r\n\t\t\t\t\t\t\t\t\t<Label\r\n\t\t\t\t\t\t\t\t\t\tcard={this.props.card}\r\n\t\t\t\t\t\t\t\t\t\tonCardsChange={this.props.onCardsChange}\r\n\t\t\t\t\t\t\t\t\t\tonAddLabels={this.onAddLabels}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"label-and-duedate-div\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label-and-duedate-txt\">due date</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"div-u-gutter\">\r\n\t\t\t\t\t\t\t\t<p className=\"main-title\">Description</p>\r\n\t\t\t\t\t\t\t\t<GetDescription />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Checklists />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"modal-body-sidebar\">\r\n\t\t\t\t\t\t\t<ShowAddChecklist />\r\n\t\t\t\t\t\t\t<Labels />\r\n\t\t\t\t\t\t\t<Covers />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer></Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EditCard;\r\n"]},"metadata":{},"sourceType":"module"}